var u=Object.defineProperty;var w=(o,e,t)=>e in o?u(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var i=(o,e,t)=>w(o,typeof e!="symbol"?e+"":e,t);import"../../admin.bundle-DI9_jvUJ.js";import"../../main-d77jCppw.js";let p,s,c;function f(){p=new google.maps.Map(document.getElementById("map"),{center:{lat:-31.397,lng:125.644},zoom:6}),s=new google.maps.Map(document.getElementById("geolocation"),{center:{lat:-34.397,lng:150.644},zoom:6}),c=new google.maps.InfoWindow;const o=document.createElement("button");o.textContent="Pan to Current Location",o.classList.add("custom-map-control-button"),s.controls[google.maps.ControlPosition.TOP_CENTER].push(o),o.addEventListener("click",()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(a=>{const r={lat:a.coords.latitude,lng:a.coords.longitude};c.setPosition(r),c.setContent("Location found."),c.open(s),s.setCenter(r)},()=>{g(!0,c,s.getCenter())}):g(!1,c,s.getCenter())});const e=new google.maps.Map(document.getElementById("latlang-map"),{zoom:4,center:{lat:-25.363882,lng:131.044922},mapId:"DEMO_MAP_ID"}),t={north:-25.363882,south:-31.203405,east:131.044922,west:125.244141};e.fitBounds(t);const n=["This","is","the","secret","message"],l=t.east-t.west,m=t.north-t.south;for(let a=0;a<n.length;++a){const r=new google.maps.Marker({position:{lat:t.south+m*Math.random(),lng:t.west+l*Math.random()},map:e});I(r,n[a])}const d={lat:-33.871,lng:151.197},h=new google.maps.Map(document.getElementById("event-map"),{zoom:18,center:d});new M(h,d)}function C(o){return"placeId"in o}class M{constructor(e,t){i(this,"origin");i(this,"eventMap");i(this,"directionsService");i(this,"directionsRenderer");i(this,"placesService");i(this,"infoWindow");i(this,"infoWindowContent");this.origin=t,this.eventMap=e,this.directionsService=new google.maps.DirectionsService,this.directionsRenderer=new google.maps.DirectionsRenderer,this.directionsRenderer.setMap(p),this.placesService=new google.maps.places.PlacesService(e),this.infoWindow=new google.maps.InfoWindow,this.infoWindowContent=document.getElementById("infowindow-content"),this.infoWindow.setContent(this.infoWindowContent),this.eventMap.addListener("click",this.handleClick.bind(this))}handleClick(e){C(e)&&(e.stop(),e.placeId&&(this.calculateAndDisplayRoute(e.placeId),this.getPlaceInformation(e.placeId)))}calculateAndDisplayRoute(e){const t=this;this.directionsService.route({origin:this.origin,destination:{placeId:e},travelMode:google.maps.TravelMode.WALKING}).then(n=>{t.directionsRenderer.setDirections(n)}).catch(n=>window.alert("Directions request failed due to "+status))}getPlaceInformation(e){const t=this;this.placesService.getDetails({placeId:e},(n,l)=>{l==="OK"&&n&&n.geometry&&n.geometry.location&&(t.infoWindow.close(),t.infoWindow.setPosition(n.geometry.location),t.infoWindowContent.children["place-icon"].src=n.icon,t.infoWindowContent.children["place-name"].textContent=n.name,t.infoWindowContent.children["place-id"].textContent=n.place_id,t.infoWindowContent.children["place-address"].textContent=n.formatted_address,t.infoWindow.open(t.map))})}}function I(o,e){const t=new google.maps.InfoWindow({content:e});o.addListener("click",()=>{t.open(o.map,o)})}function g(o,e,t){e.setPosition(t),e.setContent(o?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),e.open(s)}window.initMap=f;
