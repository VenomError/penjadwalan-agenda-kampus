import{c as v,i as y}from"../../admin.bundle-DI9_jvUJ.js";/* empty css                               */import{A as q}from"../../air-datepicker-DlUcrly3.js";import{l as C}from"../../en-BXs2wRZT.js";import"../../main-d77jCppw.js";const P=""+new URL("../../images/user-14.png",import.meta.url).href,b=""+new URL("../../images/user-17.png",import.meta.url).href,S=""+new URL("../../images/user-16.png",import.meta.url).href,j=""+new URL("../../images/user-12.png",import.meta.url).href,E=""+new URL("../../images/user-18.png",import.meta.url).href,M=""+new URL("../../images/user-15.png",import.meta.url).href;VirtualSelect.init({ele:"#assignedSelect",options:[{label:"Max Boucaut",value:"Max Boucaut"},{label:"Natasha Tegg",value:"Natasha Tegg"},{label:"Ethan Zahel",value:"Ethan Zahel"},{label:"Ryan Frazer",value:"Ryan Frazer"},{label:"Julian Marconi",value:"Julian Marconi"},{label:"Poppy Dalley",value:"Poppy Dalley"}],selectedValue:0,multiple:!0});VirtualSelect.init({ele:"#statusSelect2",options:[{label:"Active",value:"Active"},{label:"On Hold",value:"On Hold"},{label:"Pending",value:"Pending"},{label:"Completed",value:"Completed"}]});VirtualSelect.init({ele:"#filterStatusSelect",options:[{label:"Active",value:"Active"},{label:"On Hold",value:"On Hold"},{label:"Pending",value:"Pending"},{label:"Completed",value:"Completed"}]});VirtualSelect.init({ele:"#filterSelect",options:[{label:"Weekly",value:"Weekly"},{label:"Monthly",value:"Monthly"},{label:"Yearly",value:"Yearly"}]});class x{constructor(){this.projectsContainer=document.querySelector("#projectsList"),this.projectCountElement=document.querySelector("#projectCountElement"),this.searchInput=document.getElementById("searchProjectsInput"),this.filterTabs=document.querySelectorAll(".project-nav"),this.paginationContainer=document.querySelector(".pagination"),this.projects=[],this.filteredProjects=[],this.currentFilter="All Projects",this.currentPage=1,this.itemsPerPage=8,this.totalPages=0,this.setupEventListeners(),this.loadProjects()}setupEventListeners(){this.searchInput.addEventListener("input",()=>this.handleSearch()),this.filterTabs.forEach(t=>{t.addEventListener("click",s=>this.handleFilter(s.target.textContent))}),document.querySelector('[data-bs-target="#addProjectModal"]').addEventListener("click",()=>{document.getElementById("addProjectModalLabel").textContent="Add Project",this.clearForm(),this.clearValidationErrors()}),document.querySelector("#addProjectModal form").addEventListener("submit",t=>{t.preventDefault(),document.getElementById("addProjectModalLabel").textContent.includes("Edit")?this.updateProject():this.addProject()}),document.querySelector("#addProjectModal form").querySelectorAll("input").forEach(t=>{t.addEventListener("blur",()=>{if(t.classList.contains("is-invalid")){t.classList.remove("is-invalid");const s=t.parentNode.querySelector(".error-message");s&&s.remove()}if(t.value.trim()===""&&t.hasAttribute("required")){const s=t.getAttribute("placeholder")||t.id;this.addErrorMessage(t,`${s} is required`)}t.id==="totalAmountInput"&&t.value.trim()!==""&&isNaN(parseFloat(t.value))&&this.addErrorMessage(t,"Total amount must be a number")})}),document.addEventListener("click",t=>{if(t.target.closest('[data-bs-target="#addProjectModal"]')&&t.target.closest(".dropdown-menu")){const s=t.target.closest(".project-card");s&&(this.openEditForm(s.dataset.id),this.clearValidationErrors())}if(t.target.closest('[data-bs-target="#deleteModal"]')){const s=t.target.closest(".project-card");s&&(this.projectToDelete=s.dataset.id)}if(t.target.closest("#deleteModal .btn-danger")&&this.deleteProject(this.projectToDelete),t.target.closest(".page-link")&&!t.target.closest(".disabled")){const s=t.target.textContent.trim();s==="Previous"||s.includes("Previous")?this.goToPage(this.currentPage-1):s==="Next"||s.includes("Next")?this.goToPage(this.currentPage+1):this.goToPage(parseInt(s))}})}addErrorMessage(e,a){e.classList.add("is-invalid");const t=document.createElement("div");t.className="invalid-feedback error-message",t.textContent=a,e.parentNode.appendChild(t)}clearValidationErrors(){const e=document.querySelector("#addProjectModal form");e.querySelectorAll(".error-message").forEach(s=>s.remove()),e.querySelectorAll(".is-invalid").forEach(s=>s.classList.remove("is-invalid"))}loadProjects(){this.projects=this.getSampleProjects(),this.filteredProjects=[...this.projects],this.updateTotalPages(),this.renderProjects(),this.updateProjectCount()}getSampleProjects(){return[{id:1,title:"Chat Application",client:"John Doe",dueDate:"15 June, 2024",amount:"$18,000",progress:18,status:"Active",assigned:["assets/images/avatar/user-14.png","assets/images/avatar/user-16.png"],image:"assets/images/brands/img-01.png"},{id:2,title:"E-commerce Platform",client:"Sam Williams",dueDate:"25 July, 2024",amount:"$25,000",progress:41,status:"On Hold",assigned:["assets/images/avatar/user-17.png","assets/images/avatar/user-15.png","assets/images/avatar/user-19.png"],image:"assets/images/brands/img-02.png"},{id:3,title:"Corporate Website",client:"ABC Corp",dueDate:"30 May, 2024",amount:"$10,000",progress:75,status:"Pending",assigned:["assets/images/avatar/user-16.png","assets/images/avatar/user-12.png"],image:"assets/images/brands/img-03.png"},{id:4,title:"API Integration",client:"DevHouse",dueDate:"5 Aug, 2024",amount:"$20,000",progress:60,status:"Pending",assigned:["assets/images/avatar/user-17.png","assets/images/avatar/user-16.png"],image:"assets/images/brands/img-08.png"},{id:5,title:"Mobile App Redesign",client:"Creative Studio",dueDate:"10 Sept, 2024",amount:"$12,500",progress:35,status:"Active",assigned:["assets/images/avatar/user-15.png","assets/images/avatar/user-19.png"],image:"assets/images/brands/img-01.png"},{id:6,title:"Marketing Dashboard",client:"MarketGurus",dueDate:"1 Oct, 2024",amount:"$30,000",progress:80,status:"Completed",assigned:["assets/images/avatar/user-12.png","assets/images/avatar/user-14.png"],image:"assets/images/brands/img-02.png"},{id:7,title:"SaaS Management",client:"TechNova",dueDate:"18 Aug, 2024",amount:"$22,000",progress:50,status:"On Hold",assigned:["assets/images/avatar/user-16.png","assets/images/avatar/user-17.png"],image:"assets/images/brands/img-03.png"},{id:8,title:"CRM System",client:"BusinessPro",dueDate:"5 Dec, 2024",amount:"$40,000",progress:90,status:"Active",assigned:["assets/images/avatar/user-14.png","assets/images/avatar/user-15.png"],image:"assets/images/brands/img-08.png"},{id:9,title:"Portfolio Builder",client:"Freelance Hub",dueDate:"22 Nov, 2024",amount:"$7,500",progress:28,status:"Pending",assigned:["assets/images/avatar/user-19.png","assets/images/avatar/user-12.png"],image:"assets/images/brands/img-01.png"},{id:10,title:"Inventory Tracker",client:"RetailChain",dueDate:"15 Oct, 2024",amount:"$16,000",progress:66,status:"Active",assigned:["assets/images/avatar/user-17.png","assets/images/avatar/user-14.png","assets/images/avatar/user-16.png"],image:"assets/images/brands/img-02.png"},{id:11,title:"HR Management System",client:"PeopleOps Inc.",dueDate:"20 Sept, 2024",amount:"$19,000",progress:45,status:"On Hold",assigned:["assets/images/avatar/user-14.png","assets/images/avatar/user-12.png"],image:"assets/images/brands/img-03.png"},{id:12,title:"Project Tracker App",client:"BuildSuite",dueDate:"12 Aug, 2024",amount:"$11,500",progress:55,status:"Active",assigned:["assets/images/avatar/user-15.png","assets/images/avatar/user-17.png"],image:"assets/images/brands/img-01.png"},{id:13,title:"Analytics Tool",client:"Insight Lab",dueDate:"2 Nov, 2024",amount:"$23,000",progress:33,status:"Pending",assigned:["assets/images/avatar/user-16.png","assets/images/avatar/user-19.png"],image:"assets/images/brands/img-02.png"},{id:14,title:"Cloud Migration",client:"SkyNet Solutions",dueDate:"28 Dec, 2024",amount:"$45,000",progress:72,status:"On Hold",assigned:["assets/images/avatar/user-12.png","assets/images/avatar/user-14.png","assets/images/avatar/user-17.png"],image:"assets/images/brands/img-08.png"},{id:15,title:"Social Media Scheduler",client:"PostPal",dueDate:"7 Oct, 2024",amount:"$14,000",progress:25,status:"Pending",assigned:["assets/images/avatar/user-15.png"],image:"assets/images/brands/img-03.png"},{id:16,title:"Live Chat Widget",client:"QuickTalk",dueDate:"13 Sept, 2024",amount:"$9,500",progress:64,status:"Active",assigned:["assets/images/avatar/user-16.png","assets/images/avatar/user-19.png"],image:"assets/images/brands/img-01.png"},{id:17,title:"Booking Engine",client:"TravelFox",dueDate:"5 Jan, 2025",amount:"$32,000",progress:48,status:"Pending",assigned:["assets/images/avatar/user-14.png","assets/images/avatar/user-15.png"],image:"assets/images/brands/img-02.png"},{id:18,title:"Learning Platform",client:"EduTrack",dueDate:"11 Feb, 2025",amount:"$38,000",progress:69,status:"On Hold",assigned:["assets/images/avatar/user-17.png","assets/images/avatar/user-16.png"],image:"assets/images/brands/img-08.png"},{id:19,title:"IoT Dashboard",client:"SmartNet",dueDate:"24 Jan, 2025",amount:"$27,000",progress:36,status:"Active",assigned:["assets/images/avatar/user-12.png","assets/images/avatar/user-19.png"],image:"assets/images/brands/img-03.png"},{id:20,title:"Legal Case Tracker",client:"LexTech",dueDate:"9 Mar, 2025",amount:"$21,000",progress:52,status:"Pending",assigned:["assets/images/avatar/user-14.png","assets/images/avatar/user-15.png","assets/images/avatar/user-17.png"],image:"assets/images/brands/img-01.png"},{id:21,title:"Fleet Management System",client:"DriveOps",dueDate:"18 Apr, 2025",amount:"$26,000",progress:39,status:"Active",assigned:["assets/images/avatar/user-17.png","assets/images/avatar/user-14.png"],image:"assets/images/brands/img-02.png"},{id:22,title:"Event Ticketing Platform",client:"TicketVerse",dueDate:"6 May, 2025",amount:"$34,000",progress:71,status:"Completed",assigned:["assets/images/avatar/user-15.png","assets/images/avatar/user-16.png","assets/images/avatar/user-12.png"],image:"assets/images/brands/img-08.png"},{id:23,title:"Real Estate Portal",client:"HomeHunt",dueDate:"25 Jun, 2025",amount:"$29,000",progress:44,status:"On Hold",assigned:["assets/images/avatar/user-14.png","assets/images/avatar/user-19.png"],image:"assets/images/brands/img-03.png"},{id:24,title:"Video Streaming Backend",client:"StreamWise",dueDate:"9 Jul, 2025",amount:"$50,000",progress:22,status:"Pending",assigned:["assets/images/avatar/user-17.png","assets/images/avatar/user-15.png"],image:"assets/images/brands/img-01.png"},{id:25,title:"Gaming Leaderboard API",client:"PixelPlay",dueDate:"3 Aug, 2025",amount:"$13,500",progress:58,status:"Active",assigned:["assets/images/avatar/user-12.png"],image:"assets/images/brands/img-02.png"},{id:26,title:"Fitness Tracker App",client:"FitWorld",dueDate:"17 Sept, 2025",amount:"$17,000",progress:63,status:"On Hold",assigned:["assets/images/avatar/user-14.png","assets/images/avatar/user-16.png"],image:"assets/images/brands/img-03.png"},{id:27,title:"Online Course Portal",client:"SkillBoost",dueDate:"21 Oct, 2025",amount:"$42,000",progress:78,status:"Completed",assigned:["assets/images/avatar/user-19.png","assets/images/avatar/user-17.png"],image:"assets/images/brands/img-08.png"}]}handleSearch(){const e=this.searchInput.value.toLowerCase().trim();e===""?this.applyFilter(this.currentFilter):this.currentFilter==="All Projects"?this.filteredProjects=this.projects.filter(a=>a.title.toLowerCase().includes(e)||a.client.toLowerCase().includes(e)):this.filteredProjects=this.projects.filter(a=>(a.title.toLowerCase().includes(e)||a.client.toLowerCase().includes(e))&&a.status===this.currentFilter),this.currentPage=1,this.updateTotalPages(),this.renderProjects()}handleFilter(e){this.filterTabs.forEach(a=>{a.classList.toggle("active",a.textContent===e)}),this.currentFilter=e,this.applyFilter(e),this.currentPage=1,this.updateTotalPages(),this.renderProjects()}applyFilter(e){e==="All Projects"?this.filteredProjects=[...this.projects]:this.filteredProjects=this.projects.filter(t=>t.status===e);const a=this.searchInput.value.toLowerCase().trim();a&&(this.filteredProjects=this.filteredProjects.filter(t=>t.title.toLowerCase().includes(a)||t.client.toLowerCase().includes(a)))}updateTotalPages(){this.totalPages=Math.ceil(this.filteredProjects.length/this.itemsPerPage)}goToPage(e){e<1||e>this.totalPages||(this.currentPage=e,this.renderProjects())}renderPagination(){if(!this.paginationContainer)return;let e=`
        <li class="page-item ${this.currentPage===1?"disabled":""}">
          <a class="page-link" href="#!"><i data-lucide="chevron-left" class="size-4"></i> Previous</a>
        </li>
      `;for(let a=1;a<=this.totalPages;a++)e+=`
          <li class="page-item ${a===this.currentPage?"active":""}">
            <a class="page-link" href="#!">${a}</a>
          </li>
        `;e+=`
        <li class="page-item ${this.currentPage===this.totalPages?"disabled":""}">
          <a class="page-link" href="#!">Next <i data-lucide="chevron-right" class="size-4"></i></a>
        </li>
      `,this.paginationContainer.innerHTML=e,v({icons:y})}updatePaginationInfo(){const e=document.querySelector(".pagination-courting-info");if(!e)return;const a=(this.currentPage-1)*this.itemsPerPage+1,t=Math.min(a+this.itemsPerPage-1,this.filteredProjects.length),s=this.filteredProjects.length;e.innerHTML=`Showing <b class="me-1">${a}-${t}</b>of<b class="ms-1">${s}</b> Results`}getStatusBadgeClass(e){switch(e){case"Active":return"bg-secondary-subtle text-secondary border border-secondary-subtle";case"On Hold":return"bg-orange-subtle text-orange border border-orange-subtle";case"Pending":return"bg-warning-subtle text-warning border border-warning-subtle";case"Completed":return"bg-success-subtle text-success border border-success-subtle";default:return"bg-secondary-subtle text-secondary border border-secondary-subtle"}}renderProjects(){if(!this.projectsContainer)return;const e=(this.currentPage-1)*this.itemsPerPage,a=e+this.itemsPerPage,t=this.filteredProjects.slice(e,a);this.projectsContainer.innerHTML="",t.length===0?this.projectsContainer.innerHTML=`
          <td colspan="6" class="text-center py-4">
                    <div class="d-flex flex-column align-items-center">
                 <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" class="mx-auto size-12" viewBox="0 0 48 48">
                                                <linearGradient id="SVGID_1__h35ynqzIJzH4_gr1" x1="34.598" x2="15.982" y1="15.982" y2="34.598" gradientUnits="userSpaceOnUse">
                                                    <stop offset="0" stop-color="#60e8fe"></stop>
                                                    <stop offset=".033" stop-color="#6ae9fe"></stop>
                                                    <stop offset=".197" stop-color="#97f0fe"></stop>
                                                    <stop offset=".362" stop-color="#bdf5ff"></stop>
                                                    <stop offset=".525" stop-color="#dafaff"></stop>
                                                    <stop offset=".687" stop-color="#eefdff"></stop>
                                                    <stop offset=".846" stop-color="#fbfeff"></stop>
                                                    <stop offset="1" stop-color="#fff"></stop>
                                                </linearGradient>
                                                <path fill="url(#SVGID_1__h35ynqzIJzH4_gr1)" d="M40.036,33.826L31.68,25.6c0.847-1.739,1.335-3.684,1.335-5.748c0-7.27-5.894-13.164-13.164-13.164	S6.688,12.582,6.688,19.852c0,7.27,5.894,13.164,13.164,13.164c2.056,0,3.995-0.485,5.728-1.326l3.914,4.015l4.331,4.331	c1.715,1.715,4.496,1.715,6.211,0C41.751,38.321,41.751,35.541,40.036,33.826z"></path>
                                                <path fill="none" stroke="#10cfe3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="3" d="M31.95,25.739l8.086,8.086c1.715,1.715,1.715,4.496,0,6.211l0,0c-1.715,1.715-4.496,1.715-6.211,0	l-4.331-4.331"></path>
                                                <path fill="none" stroke="#10cfe3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="3" d="M7.525,24.511c-1.771-4.694-0.767-10.196,3.011-13.975c3.847-3.847,9.48-4.817,14.228-2.912"></path>
                                                <path fill="none" stroke="#10cfe3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="3" d="M30.856,12.603c3.376,5.114,2.814,12.063-1.688,16.565c-4.858,4.858-12.565,5.129-17.741,0.814"></path>
                                            </svg>
                                            <p class="mt-2 text-center text-gray-500 dark:text-dark-500">No matching records found</p>
                        <p class="text-muted mb-0">We couldn't find any categories matching your search.</p>
                    </div>
                </td>
      `:t.forEach(s=>{const n=document.createElement("div");n.className="col-md-6 col-xxl-3 project-card",n.dataset.id=s.id;let l="";s.assigned&&Array.isArray(s.assigned)?s.assigned.forEach(c=>{l+=`
            <a href="#!" class="avatar-group-item" aria-label="avatar">
                <img src="${c}" loading="lazy" alt="avatar" class="size-8">
            </a>
        `}):s.assignees&&Array.isArray(s.assignees)&&s.assignees.forEach(c=>{l+=`
            <a href="#!" class="avatar-group-item" aria-label="avatar">
                <img src="${c.image}" loading="lazy" alt="${c.name}" class="size-8">
            </a>
        `}),n.innerHTML=`
          <div class="card">
            <div class="card-body">
              <div class="dropdown float-end">
                <a href="#!" class="link link-custom-primary" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="dropdown-button">
                  <i class="ri-more-fill"></i>
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><a href="#!" class="dropdown-item d-flex gap-xl-2 align-items-center"><i class="ri-eye-line"></i><span>Overview</span></a></li>
                  <li data-bs-toggle="modal" data-bs-target="#addProjectModal"><a href="#!" class="dropdown-item d-flex gap-xl-2 align-items-center"><i class="ri-pencil-line"></i>Edit</a></li>
                  <li data-bs-toggle="modal" data-bs-target="#deleteModal"><a href="#!" class="dropdown-item d-flex gap-xl-2 align-items-center"><i class="ri-delete-bin-line"></i><span>Delete</span></a></li>
                </ul>
              </div>
              <div class="size-12 border avatar mb-4 rounded">
                <img src="${s.image}" loading="lazy" alt="${s.title}" class="size-8">
              </div>
              <h6 class="mb-1">${s.title}</h6>
              <p class="text-muted">${s.client}</p>
              <div class="row mt-3">
                <div class="col-6 p-2 text-center border-end">
                  <h6 class="mb-1">${s.dueDate}</h6>
                  <p class="text-muted">Due Date</p>
                </div>
                <div class="col-6 p-2 text-center">
                  <h6 class="mb-1">${s.amount}</h6>
                  <p class="text-muted">Total Amount</p>
                </div>
              </div>
              <div class="mt-5">
                <p class="mb-2 text-muted">Project ${s.progress}% completed</p>
                <div class="progress progress-1" role="progressbar" aria-label="Project Progress" aria-valuenow="${s.progress}" aria-valuemin="0" aria-valuemax="100">
                  <div class="progress-bar progress-gradient progress-gradient-secondary" style="width: ${s.progress}%"></div>
                </div>
              </div>
              <div class="d-flex align-items-center gap-2 mt-5">
                <p class="me-3">Assigned To:</p>
                <div class="avatar-group flex-grow-1">
                  ${l}
                </div>
                <span class="flex-shrink-0 badge ${this.getStatusBadgeClass(s.status)}">${s.status}</span>
              </div>
            </div>
          </div>
        `,this.projectsContainer.appendChild(n)}),v({icons:y}),this.renderPagination(),this.updatePaginationInfo()}generateAssigneeAvatars(e){if(!e||!Array.isArray(e))return"";let a="";return e.forEach(t=>{a+=`
      <a href="#!" class="avatar-group-item" aria-label="avatar">
        <img src="${t}" loading="lazy" alt="avatar" class="size-8">
      </a>
    `}),a}clearForm(){const e=document.querySelector("#addProjectModal form");e.reset();const a=e.querySelector('input[name="projectId"]');a&&(a.value="");const t=e.querySelector(".progress-bar");t&&(t.style.width="0%"),this.clearValidationErrors()}validateForm(){const e=document.querySelector("#addProjectModal form"),a=e.querySelector("#projectTitleInput").value.trim(),t=e.querySelector("#clientName").value.trim(),s=e.querySelector('input[placeholder="Select due date"]').value.trim(),n=e.querySelector("#totalAmountInput").value.trim(),l=document.querySelector("#assignedSelect"),c=e.querySelector("#statusSelect")||e.querySelector("#statusSelect2"),u=l?l.value:"",d=c?c.value.trim():"";e.querySelectorAll(".error-message").forEach(g=>g.remove()),e.querySelectorAll(".is-invalid").forEach(g=>g.classList.remove("is-invalid"));let i=!0;return a||(this.addErrorMessage(e.querySelector("#projectTitleInput"),"Project title is required"),i=!1),t||(this.addErrorMessage(e.querySelector("#clientName"),"Client name is required"),i=!1),s||(this.addErrorMessage(e.querySelector('input[placeholder="Select due date"]'),"Due date is required"),i=!1),n?isNaN(parseFloat(n))&&(this.addErrorMessage(e.querySelector("#totalAmountInput"),"Total amount must be a number"),i=!1):(this.addErrorMessage(e.querySelector("#totalAmountInput"),"Total amount is required"),i=!1),(!u||Array.isArray(u)&&u.length===0)&&(this.addErrorMessage(l,"Please select at least one assignee"),i=!1),d||(this.addErrorMessage(c,"Please select a status"),i=!1),i}openEditForm(e){const a=this.projects.find(l=>l.id==e);if(!a)return;document.getElementById("addProjectModalLabel").textContent="Edit Project";const t=document.querySelector("#addProjectModal form");let s=t.querySelector('input[name="projectId"]');s||(s=document.createElement("input"),s.type="hidden",s.name="projectId",t.appendChild(s)),s.value=a.id,t.querySelector("#projectTitleInput").value=a.title,t.querySelector("#clientName").value=a.client,D.selectDate(new Date(a.dueDate)),t.querySelector("#totalAmountInput").value=a.amount.replace("$","").replace(",",""),t.querySelector("#progressInput").value=a.progress;const n=t.querySelector(".progress-bar");n&&(n.style.width=`${a.progress}%`)}addProject(){var f;if(!this.validateForm())return;const e=document.querySelector("#addProjectModal form"),a=e.querySelector("#projectTitleInput").value,t=e.querySelector("#clientName").value,s=e.querySelector('input[placeholder="Select due date"]').value,n=e.querySelector("#totalAmountInput").value,l=parseInt(e.querySelector("#progressInput").value)||0,c=document.querySelector("#assignedSelect"),u=c?c.value:[];let d=[];!u||u.length===0?d=((f=this.projectForm)==null?void 0:f.assignees)||[]:(Array.isArray(u)?u:[u]).forEach(r=>{r=="Max Boucaut"?d.push({image:P,name:r}):r=="Poppy Dalley"?d.push({image:b,name:r}):r=="Ethan Zahel"?d.push({image:S,name:r}):r=="Julian Marconi"?d.push({image:j,name:r}):r=="Ryan Frazer"?d.push({image:E,name:r}):r=="Natasha Tegg"&&d.push({image:M,name:r})});const h=e.querySelector("#statusSelect")||e.querySelector("#statusSelect2"),m=(h==null?void 0:h.value)||"Active",g={id:Math.max(...(this.projects||[]).map(r=>r.id||0),0)+1,title:a,client:t,dueDate:s,amount:"$"+(parseFloat(n)||0).toLocaleString(),progress:l,status:m,assignees:d,assigneesCount:d.length,image:`assets/images/brands/img-0${Math.floor(Math.random()*3)+1}.png`};this.projects||(this.projects=[]),this.projects.unshift(g);try{const r=window.bootstrap.Modal.getInstance(document.getElementById("addProjectModal"));r&&r.hide()}catch(r){console.error("Error closing modal:",r)}typeof this.applyFilter=="function"&&this.applyFilter(this.currentFilter||"all"),typeof this.updateTotalPages=="function"&&this.updateTotalPages(),typeof this.renderProjects=="function"&&this.renderProjects(),typeof this.updateProjectCount=="function"&&this.updateProjectCount()}updateProject(){if(!this.validateForm())return;const e=document.querySelector("#addProjectModal form"),a=e.querySelector('input[name="projectId"]');if(!a){console.error("Project ID input not found");return}const t=parseInt(a.value);if(isNaN(t)){console.error("Invalid project ID");return}if(!this.projects){console.error("Projects array not initialized");return}const s=this.projects.findIndex(o=>o.id===t);if(s===-1){console.error("Project not found with ID:",t);return}const n=e.querySelector("#projectTitleInput").value,l=e.querySelector("#clientName").value,c=e.querySelector('input[placeholder="Select due date"]').value,u=e.querySelector("#totalAmountInput").value,d=parseInt(e.querySelector("#progressInput").value)||0,h=document.querySelector("#assignedSelect"),m=h?h.value:[];let i=[];!m||m.length===0?i=this.projects[s].assignees||[]:(Array.isArray(m)?m:[m]).forEach(o=>{o=="Max Boucaut"?i.push({image:P,name:o}):o=="Poppy Dalley"?i.push({image:b,name:o}):o=="Ethan Zahel"?i.push({image:S,name:o}):o=="Julian Marconi"?i.push({image:j,name:o}):o=="Ryan Frazer"?i.push({image:E,name:o}):o=="Natasha Tegg"&&i.push({image:M,name:o})});const g=e.querySelector("#statusSelect")||e.querySelector("#statusSelect2"),f=(g==null?void 0:g.value)||this.projects[s].status||"Active",{image:r}=this.projects[s],I={id:t,title:n,client:l,dueDate:c,amount:"$"+(parseFloat(u)||0).toLocaleString(),progress:d,status:f,assignees:i,assigneesCount:i.length,image:r};this.projects[s]=I;try{const o=window.bootstrap.Modal.getInstance(document.getElementById("addProjectModal"));o&&o.hide()}catch(o){console.error("Error closing modal:",o)}typeof this.applyFilter=="function"&&this.applyFilter(this.currentFilter||"all"),typeof this.updateTotalPages=="function"&&this.updateTotalPages(),typeof this.renderProjects=="function"&&this.renderProjects()}deleteProject(e){e=parseInt(e),this.projects=this.projects.filter(a=>a.id!==e),this.applyFilter(this.currentFilter),this.updateTotalPages(),this.renderProjects(),this.updateProjectCount()}updateProjectCount(){this.projectCountElement&&(this.projectCountElement.textContent=this.projects.length)}}const A=document.getElementById("dueDateInput"),D=new q(A,{autoClose:!0,locale:C,dateFormat:p=>{const e=p.getDate(),a=p.toLocaleString("en-US",{month:"short"}),t=p.getFullYear();return`${e} ${a}, ${t}`}});document.addEventListener("DOMContentLoaded",()=>{const p=document.getElementById("progressInput"),e=document.querySelector("#addProjectModal .progress-bar");if(p&&e){p.addEventListener("input",function(){let t=parseInt(this.value)||0;t=Math.max(0,Math.min(100,t)),t.toString()!==this.value&&(this.value=t),e.style.width=`${t}%`});const a=parseInt(p.value)||0;e.style.width=`${a}%`}});document.addEventListener("DOMContentLoaded",()=>{new x});
