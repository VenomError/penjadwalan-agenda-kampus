import"../../admin.bundle-DI9_jvUJ.js";/* empty css                               */import"../../main-d77jCppw.js";/*!
 * Virtual Select v1.0.49
 * https://sa-si-dev.github.io/virtual-select
 * Licensed under MIT (https://github.com/sa-si-dev/virtual-select/blob/master/LICENSE)
 */(function(){function I(a){return function(n){if(Array.isArray(n))return L(n)}(a)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(a)||function(n,h){if(n){if(typeof n=="string")return L(n,h);var y={}.toString.call(n).slice(8,-1);return y==="Object"&&n.constructor&&(y=n.constructor.name),y==="Map"||y==="Set"?Array.from(n):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?L(n,h):void 0}}(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(a,n){(n==null||n>a.length)&&(n=a.length);for(var h=0,y=Array(n);h<n;h++)y[h]=a[h];return y}function S(a){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},S(a)}function H(a,n){for(var h=0;h<n.length;h++){var y=n[h];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,D(y.key),y)}}function D(a){var n=function(h,y){if(S(h)!="object"||!h)return h;var t=h[Symbol.toPrimitive];if(t!==void 0){var e=t.call(h,y);if(S(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(a,"string");return S(n)=="symbol"?n:n+""}var V=function(){function a(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,a)}return n=a,y=[{key:"getString",value:function(t){return t||t===0?t.toString():""}},{key:"convertToBoolean",value:function(t){return t===!0||t==="true"||t!==!1&&t!=="false"&&arguments.length>1&&arguments[1]!==void 0&&arguments[1]}},{key:"isEmpty",value:function(t){var e=!1;return t?Array.isArray(t)?t.length===0&&(e=!0):S(t)==="object"&&Object.keys(t).length===0&&(e=!0):e=!0,e}},{key:"isNotEmpty",value:function(t){return!a.isEmpty(t)}},{key:"removeItemFromArray",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!Array.isArray(t)||!t.length)return t;var o=i?I(t):t,s=o.indexOf(e);return s!==-1&&o.splice(s,1),o}},{key:"removeArrayEmpty",value:function(t){return Array.isArray(t)&&t.length?t.filter(function(e){return!!e}):[]}},{key:"getRandomInt",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Math.ceil(e),o=Math.floor(t);return Math.floor(Math.random()*(o-i-1))+i}},{key:"regexEscape",value:function(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"normalizeString",value:function(t){return t.normalize("NFD").replace(/[^\w]/g,"")}},{key:"willTextOverflow",value:function(t,e){var i=document.createElement("div");i.style.position="absolute",i.style.visibility="hidden",i.style.whiteSpace="nowrap",i.style.fontSize=window.getComputedStyle(t).fontSize,i.style.fontFamily=window.getComputedStyle(t).fontFamily,i.textContent=e,document.body.appendChild(i);var o=i.clientWidth;return document.body.removeChild(i),o>t.clientWidth}},{key:"replaceDoubleQuotesWithHTML",value:function(t){return t.replace(/"/g,"&quot;")}},{key:"containsHTML",value:function(t){return/<[a-z][\s\S]*>/i.test(t)}},{key:"containsHTMLorJS",value:function(t){return/<([a-z]+)[\s\S]*?>|on\w+="[^"]*"/i.test(t)}}],(h=null)&&H(n.prototype,h),y&&H(n,y),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,h,y}();function T(a){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},T(a)}function P(a,n){return function(h){if(Array.isArray(h))return h}(a)||function(h,y){var t=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(t!=null){var e,i,o,s,u=[],c=!0,x=!1;try{if(o=(t=t.call(h)).next,y!==0)for(;!(c=(e=o.call(t)).done)&&(u.push(e.value),u.length!==y);c=!0);}catch(k){x=!0,i=k}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(x)throw i}}return u}}(a,n)||v(a,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(a){return function(n){if(Array.isArray(n))return w(n)}(a)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(a)||v(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(a,n){if(a){if(typeof a=="string")return w(a,n);var h={}.toString.call(a).slice(8,-1);return h==="Object"&&a.constructor&&(h=a.constructor.name),h==="Map"||h==="Set"?Array.from(a):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?w(a,n):void 0}}function w(a,n){(n==null||n>a.length)&&(n=a.length);for(var h=0,y=Array(n);h<n;h++)y[h]=a[h];return y}function C(a,n){for(var h=0;h<n.length;h++){var y=n[h];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,Q(y.key),y)}}function Q(a){var n=function(h,y){if(T(h)!="object"||!h)return h;var t=h[Symbol.toPrimitive];if(t!==void 0){var e=t.call(h,y);if(T(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(a,"string");return T(n)=="symbol"?n:n+""}var r=function(){function a(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,a)}return n=a,y=[{key:"addClass",value:function(t,e){if(t){var i=e.split(" ");a.getElements(t).forEach(function(o){var s;(s=o.classList).add.apply(s,p(i))})}}},{key:"removeClass",value:function(t,e){if(t){var i=e.split(" ");a.getElements(t).forEach(function(o){var s;(s=o.classList).remove.apply(s,p(i))})}}},{key:"toggleClass",value:function(t,e,i){var o;t&&(i!==void 0&&(o=!!i),a.getElements(t).forEach(function(s){s.classList.toggle(e,o)}))}},{key:"hasClass",value:function(t,e){return!!t&&t.classList.contains(e)}},{key:"hasEllipsis",value:function(t){return!!t&&t.scrollWidth>t.offsetWidth}},{key:"getData",value:function(t,e,i){if(t){var o=t?t.dataset[e]:"";return i==="number"?o=parseFloat(o)||0:o==="true"?o=!0:o==="false"&&(o=!1),o}}},{key:"setData",value:function(t,e,i){t&&(t.dataset[e]=i)}},{key:"setAttr",value:function(t,e,i){t&&t.setAttribute(e,i)}},{key:"setAttrFromEle",value:function(t,e,i,o){var s={};i.forEach(function(u){s[u]=t.getAttribute(u)}),i.forEach(function(u){var c=s[u];(c||o.indexOf(u)!==-1&&c==="")&&e.setAttribute(u,c)})}},{key:"setStyle",value:function(t,e,i){t&&(t.style[e]=i)}},{key:"setStyles",value:function(t,e){t&&e&&Object.keys(e).forEach(function(i){t.style[i]=e[i]})}},{key:"setAria",value:function(t,e,i){if(t){var o=e;o!=="role"&&(o="aria-".concat(o)),t.setAttribute(o,i)}}},{key:"getElements",value:function(t){return t?t.forEach===void 0?[t]:t:[]}},{key:"getElementsBySelector",value:function(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=i!==void 0?i:document;return e!==""&&(t=o.querySelectorAll(e)),t!==void 0?Array.from(t):[]}},{key:"addEvent",value:function(t,e,i){t&&V.removeArrayEmpty(e.split(" ")).forEach(function(o){a.getElements(t).forEach(function(s){s.addEventListener(o,i)})})}},{key:"dispatchEvent",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(t){var o=a.getElements(t);setTimeout(function(){o.forEach(function(s){s.dispatchEvent(new CustomEvent(e,{bubbles:i}))})},0)}}},{key:"getAttributesText",value:function(t){var e="";return t&&Object.entries(t).forEach(function(i){var o=P(i,2),s=o[0],u=o[1];u!==void 0&&(e+=" ".concat(s,'="').concat(u,'" '))}),e}},{key:"convertPropToDataAttr",value:function(t){return t?"data-".concat(t).replace(/([A-Z])/g,"-$1").toLowerCase():""}},{key:"changeTabIndex",value:function(t,e){t?a.getElements(t).forEach(function(i){i.tabIndex=e}):console.log(t,"Invalid element provided.")}},{key:"removeEvent",value:function(t,e,i){t&&a.getElements(t).forEach(function(o){o.removeEventListener(e,i)})}}],(h=null)&&C(n.prototype,h),y&&C(n,y),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,h,y}();function U(a,n){var h=Object.keys(a);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(a);n&&(y=y.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),h.push.apply(h,y)}return h}function j(a){for(var n=1;n<arguments.length;n++){var h=arguments[n]!=null?arguments[n]:{};n%2?U(Object(h),!0).forEach(function(y){G(a,y,h[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(h)):U(Object(h)).forEach(function(y){Object.defineProperty(a,y,Object.getOwnPropertyDescriptor(h,y))})}return a}function G(a,n,h){return(n=E(n))in a?Object.defineProperty(a,n,{value:h,enumerable:!0,configurable:!0,writable:!0}):a[n]=h,a}function O(a){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},O(a)}function m(a,n){return function(h){if(Array.isArray(h))return h}(a)||function(h,y){var t=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(t!=null){var e,i,o,s,u=[],c=!0,x=!1;try{if(o=(t=t.call(h)).next,y!==0)for(;!(c=(e=o.call(t)).done)&&(u.push(e.value),u.length!==y);c=!0);}catch(k){x=!0,i=k}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(x)throw i}}return u}}(a,n)||d(a,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function g(a){return function(n){if(Array.isArray(n))return l(n)}(a)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(a)||d(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(a,n){if(a){if(typeof a=="string")return l(a,n);var h={}.toString.call(a).slice(8,-1);return h==="Object"&&a.constructor&&(h=a.constructor.name),h==="Map"||h==="Set"?Array.from(a):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?l(a,n):void 0}}function l(a,n){(n==null||n>a.length)&&(n=a.length);for(var h=0,y=Array(n);h<n;h++)y[h]=a[h];return y}function f(a,n){for(var h=0;h<n.length;h++){var y=n[h];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,E(y.key),y)}}function E(a){var n=function(h,y){if(O(h)!="object"||!h)return h;var t=h[Symbol.toPrimitive];if(t!==void 0){var e=t.call(h,y);if(O(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(h)}(a,"string");return O(n)=="symbol"?n:n+""}var B,N={13:"onEnterPress",38:"onUpArrowPress",40:"onDownArrowPress",46:"onBackspaceOrDeletePress",8:"onBackspaceOrDeletePress"},Y=["autofocus","disabled","multiple","required"],X=["autofocus","class","disabled","id","multiple","name","placeholder","required"],et=["additionalClasses","additionalDropboxClasses","additionalDropboxContainerClasses","additionalToggleButtonClasses","aliasKey","allOptionsSelectedText","allowNewOption","alwaysShowSelectedOptionsCount","alwaysShowSelectedOptionsLabel","ariaLabelledby","ariaLabelText","ariaLabelClearButtonText","ariaLabelTagClearButtonText","ariaLabelSearchClearButtonText","autoSelectFirstOption","clearButtonText","descriptionKey","disableAllOptionsSelectedText","disableOptionGroupCheckbox","disableSelectAll","disableValidation","dropboxWidth","dropboxWrapper","emptyValue","enableSecureText","focusSelectedOptionOnOpen","hasOptionDescription","hideClearButton","hideValueTooltipOnSelectAll","keepAlwaysOpen","labelKey","markSearchResults","maxValues","maxWidth","minValues","moreText","noOfDisplayValues","noOptionsText","noSearchResultsText","optionHeight","optionSelectedText","optionsCount","optionsSelectedText","popupDropboxBreakpoint","popupPosition","position","search","searchByStartsWith","searchDelay","searchFormLabel","searchGroup","searchNormalize","searchPlaceholderText","selectAllOnlyVisible","selectAllText","setValueAsArray","showDropboxAsPopup","showOptionsOnlyOnSearch","showSelectedOptionsFirst","showValueAsTags","silentInitialValueSet","textDirection","tooltipAlignment","tooltipFontSize","tooltipMaxWidth","updatePositionThrottle","useGroupValue","valueKey","zIndex"],F=function(){function a(t){(function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")})(this,a);try{this.createSecureTextElements(),this.setProps(t),this.setDisabledOptions(t.disabledOptions),this.setOptions(t.options),this.render()}catch(e){console.warn("Couldn't initiate Virtual Select"),console.error(e)}}return n=a,h=[{key:"render",value:function(){if(this.$ele){var t=this.uniqueId,e="vscomp-wrapper",i="vscomp-toggle-button",o=this.showValueAsTags?"":this.getTooltipAttrText(this.placeholder,!0,!0),s=this.getTooltipAttrText(this.clearButtonText),u=this.ariaLabelledby?'aria-labelledby="'.concat(this.ariaLabelledby,'"'):"",c=this.ariaLabelText?'aria-label="'.concat(this.ariaLabelText,'"'):"",x=this.ariaLabelClearButtonText?'aria-label="'.concat(this.ariaLabelClearButtonText,'"'):"",k=!1;this.additionalClasses&&(e+=" ".concat(this.additionalClasses)),this.additionalToggleButtonClasses&&(i+=" ".concat(this.additionalToggleButtonClasses)),this.multiple&&(e+=" multiple",this.disableSelectAll||(e+=" has-select-all")),this.hideClearButton||(e+=" has-clear-button"),this.keepAlwaysOpen?(e+=" keep-always-open",k=!0):e+=" closed",this.showAsPopup&&(e+=" show-as-popup"),this.hasSearch&&(e+=" has-search-input"),this.showValueAsTags&&(e+=" show-value-as-tags"),this.textDirection&&(e+=" text-direction-".concat(this.textDirection)),this.popupPosition&&(e+=" popup-position-".concat(this.popupPosition.toLowerCase()));var b='<div id="vscomp-ele-wrapper-'.concat(t,'" class="vscomp-ele-wrapper ').concat(e,`" tabindex="0"
        role="combobox" aria-haspopup="listbox" aria-controls="vscomp-dropbox-container-`).concat(t,`"
        aria-expanded="`).concat(k,'" ').concat(u," ").concat(c,`>
        <input type="hidden" name="`).concat(this.name,`" class="vscomp-hidden-input">
        <div class="`).concat(i,`">
          <div class="vscomp-value" `).concat(o,`>
            `).concat(this.placeholder,`
          </div>
          <div class="vscomp-arrow"></div>
          <div class="vscomp-clear-button toggle-button-child" `).concat(s,` 
          tabindex="-1" role="button" `).concat(x,`>
            <i class="vscomp-clear-icon"></i>
          </div>
        </div>

        `).concat(this.renderDropbox({wrapperClasses:e}),`
      </div>`);this.$ele.innerHTML=b,this.$body=document.querySelector("body"),this.$wrapper=this.$ele.querySelector(".vscomp-wrapper"),this.hasDropboxWrapper?(this.$allWrappers=[this.$wrapper,this.$dropboxWrapper],this.$dropboxContainer=this.$dropboxWrapper.querySelector(".vscomp-dropbox-container"),r.addClass(this.$dropboxContainer,"pop-comp-wrapper")):(this.$allWrappers=[this.$wrapper],this.$dropboxContainer=this.$wrapper.querySelector(".vscomp-dropbox-container")),this.$toggleButton=this.$ele.querySelector(".vscomp-toggle-button"),this.$clearButton=this.$ele.querySelector(".vscomp-clear-button"),this.$valueText=this.$ele.querySelector(".vscomp-value"),this.$hiddenInput=this.$ele.querySelector(".vscomp-hidden-input"),this.$dropbox=this.$dropboxContainer.querySelector(".vscomp-dropbox"),this.$dropboxCloseButton=this.$dropboxContainer.querySelector(".vscomp-dropbox-close-button"),this.$dropboxContainerBottom=this.$dropboxContainer.querySelector(".vscomp-dropbox-container-bottom"),this.$dropboxContainerTop=this.$dropboxContainer.querySelector(".vscomp-dropbox-container-top"),this.$search=this.$dropboxContainer.querySelector(".vscomp-search-wrapper"),this.$optionsContainer=this.$dropboxContainer.querySelector(".vscomp-options-container"),this.$optionsList=this.$dropboxContainer.querySelector(".vscomp-options-list"),this.$options=this.$dropboxContainer.querySelector(".vscomp-options"),this.$noOptions=this.$dropboxContainer.querySelector(".vscomp-no-options"),this.$noSearchResults=this.$dropboxContainer.querySelector(".vscomp-no-search-results"),this.afterRenderWrapper()}}},{key:"renderDropbox",value:function(t){var e=t.wrapperClasses,i=this.dropboxWrapper!=="self"?document.querySelector(this.dropboxWrapper):null,o="vscomp-dropbox";this.additionalDropboxClasses&&(o+=" ".concat(this.additionalDropboxClasses));var s="vscomp-dropbox-container";this.additionalDropboxContainerClasses&&(s+=" ".concat(this.additionalDropboxContainerClasses));var u='<div id="vscomp-dropbox-container-'.concat(this.uniqueId,'" role="listbox" class="').concat(s,`">
        <div class="vscomp-dropbox-container-top" aria-hidden="true" tabindex="-1">&nbsp;</div>
        <div class="`).concat(o,`">
          <div class="vscomp-search-wrapper"></div>

          <div class="vscomp-options-container">
            <div class="vscomp-options-loader"></div>

            <div class="vscomp-options-list">
              <div class="vscomp-options"></div>
            </div>
          </div>

          <div class="vscomp-options-bottom-freezer"></div>
          <div class="vscomp-no-options">`).concat(this.noOptionsText,`</div>
          <div class="vscomp-no-search-results">`).concat(this.noSearchResultsText,`</div>

          <span class="vscomp-dropbox-close-button"><i class="vscomp-clear-icon"></i></span>
        </div>
        <div class="vscomp-dropbox-container-bottom" aria-hidden="true" tabindex="-1">&nbsp;</div>
      </div>`);if(i){var c=document.createElement("div");return this.$dropboxWrapper=c,this.hasDropboxWrapper=!0,c.innerHTML=u,i.appendChild(c),r.addClass(c,"vscomp-dropbox-wrapper ".concat(e)),this.keepAlwaysOpen||(r.setAttr(c,"tabindex","-1"),r.setAria(c,"hidden",!0)),""}return this.hasDropboxWrapper=!1,u}},{key:"renderOptions",value:function(){var t,e=this,i="",o=this.getVisibleOptions(),s="",u="",c=!(!this.markSearchResults||!this.searchValue),x=this.labelRenderer,k=this.disableOptionGroupCheckbox,b=this.uniqueId,$=this.searchGroup,A=typeof x=="function",K=V.convertToBoolean,R="";if(c&&(t=new RegExp("(".concat(V.regexEscape(this.searchValue),")(?!([^<]+)?>)"),"gi")),this.multiple&&(s='<span class="checkbox-icon"></span>'),this.allowNewOption){var _=this.getTooltipAttrText("New Option");u='<span class="vscomp-new-option-icon" '.concat(_,"></span>")}o.forEach(function(M){var W,Z=M.index,z="vscomp-option",J=e.getTooltipAttrText("",!0,!0),q=s,it="",ot="",st="",nt="",tt="-1",rt=K(M.isSelected),at="";if(M.classNames&&(z+=" ".concat(M.classNames)),M.isFocused&&(tt="0",z+=" focused"),M.isDisabled&&(z+=" disabled",at='aria-disabled="true"'),M.isGroupTitle&&(R=M.label,z+=" group-title",k&&(q="")),rt&&(z+=" selected"),M.isGroupOption){var lt="";z+=" group-option",st='data-group-index="'.concat(M.groupIndex,'"'),M.customData?(R=M.customData.group_name!==void 0?"".concat(M.customData.group_name,", "):"",lt=M.customData.description!==void 0?" ".concat(M.customData.description,","):"",nt='aria-label="'.concat(R," ").concat(M.label,", ").concat(lt,'"')):nt='aria-label="'.concat(R,", ").concat(M.label,'"')}W=A?x(M):M.label,M.description&&(ot='<div class="vscomp-option-description" '.concat(J,">").concat(M.description,"</div>")),M.isCurrentNew?(z+=" current-new",it+=u):!c||M.isGroupTitle&&!$||(W=W.replace(t,"<mark>$1</mark>")),i+='<div role="option" aria-selected="'.concat(rt,'" id="vscomp-option-').concat(b,"-").concat(Z,`"
          class="`).concat(z,'" data-value="').concat(M.value,'" data-index="').concat(Z,'" data-visible-index="').concat(M.visibleIndex,`"
          tabindex=`).concat(tt," ").concat(st," ").concat(at," ").concat(nt,`
        >
          `).concat(q,`
          <span class="vscomp-option-text" `).concat(J,`>
            `).concat(W,`
          </span>
          `).concat(ot,`
          `).concat(it,`
        </div>`)}),R="",this.$options.innerHTML=i,this.$visibleOptions=this.$options.querySelectorAll(".vscomp-option"),this.afterRenderOptions()}},{key:"renderSearch",value:function(){if(this.hasSearchContainer){var t="",e="";if(this.multiple&&!this.disableSelectAll&&(t='<span class="vscomp-toggle-all-button" tabindex="0" aria-label="'.concat(this.selectAllText,`">
          <span class="checkbox-icon vscomp-toggle-all-checkbox"></span>
          <span class="vscomp-toggle-all-label">`).concat(this.selectAllText,`</span>
        </span>`)),this.hasSearch){var i=this.ariaLabelSearchClearButtonText?'aria-label="'.concat(this.ariaLabelSearchClearButtonText,'"'):"";e='<label for="vscomp-search-input-'.concat(this.uniqueId,`" class="vscomp-search-label"
        id="vscomp-search-label-`).concat(this.uniqueId,`"
      >
        `).concat(this.searchFormLabel,`
      </label>
      <input type="text" class="vscomp-search-input" placeholder="`).concat(this.searchPlaceholderText,`"
        id="vscomp-search-input-`).concat(this.uniqueId,`">
      <span class="vscomp-search-clear" role="button" `).concat(i,">&times;</span>")}var o=`<div class="vscomp-search-container">
        `.concat(t,`
        `).concat(e,`
      </div>`);this.$search.innerHTML=o,this.$searchInput=this.$dropboxContainer.querySelector(".vscomp-search-input"),this.$searchClear=this.$dropboxContainer.querySelector(".vscomp-search-clear"),this.$toggleAllButton=this.$dropboxContainer.querySelector(".vscomp-toggle-all-button"),this.$toggleAllCheckbox=this.$dropboxContainer.querySelector(".vscomp-toggle-all-checkbox"),this.addEvent(this.$searchInput,"input","onSearch"),this.addEvent(this.$searchClear,"click keydown","onSearchClear"),this.addEvent(this.$toggleAllButton,"click","onToggleAllOptions"),this.addEvent(this.$dropboxContainerBottom,"focus","onDropboxContainerTopOrBottomFocus"),this.addEvent(this.$dropboxContainerTop,"focus","onDropboxContainerTopOrBottomFocus")}}},{key:"addEvents",value:function(){this.addEvent(document,"click","onDocumentClick"),this.addEvent(this.$allWrappers,"keydown","onKeyDown"),this.addEvent(this.$toggleButton,"click keydown","onToggleButtonPress"),this.addEvent(this.$clearButton,"click keydown","onClearButtonClick"),this.addEvent(this.$dropboxContainer,"click","onDropboxContainerClick"),this.addEvent(this.$dropboxCloseButton,"click","onDropboxCloseButtonClick"),this.addEvent(this.$optionsContainer,"scroll","onOptionsScroll"),this.addEvent(this.$options,"click","onOptionsClick"),this.addEvent(this.$options,"mouseover","onOptionsMouseOver"),this.addEvent(this.$options,"touchmove","onOptionsTouchMove"),this.addMutationObserver()}},{key:"addEvent",value:function(t,e,i){var o=this;t&&V.removeArrayEmpty(e.split(" ")).forEach(function(s){var u="".concat(i,"-").concat(s),c=o.events[u];c||(c=o[i].bind(o),o.events[u]=c),r.addEvent(t,s,c)})}},{key:"removeEvents",value:function(){this.removeEvent(document,"click","onDocumentClick"),this.removeEvent(this.$allWrappers,"keydown","onKeyDown"),this.removeEvent(this.$toggleButton,"click keydown","onToggleButtonPress"),this.removeEvent(this.$clearButton,"click keydown","onClearButtonClick"),this.removeEvent(this.$dropboxContainer,"click","onDropboxContainerClick"),this.removeEvent(this.$dropboxCloseButton,"click","onDropboxCloseButtonClick"),this.removeEvent(this.$optionsContainer,"scroll","onOptionsScroll"),this.removeEvent(this.$options,"click","onOptionsClick"),this.removeEvent(this.$options,"mouseover","onOptionsMouseOver"),this.removeEvent(this.$options,"touchmove","onOptionsTouchMove"),this.removeMutationObserver()}},{key:"removeEvent",value:function(t,e,i){var o=this;t&&V.removeArrayEmpty(e.split(" ")).forEach(function(s){var u="".concat(i,"-").concat(s),c=o.events[u];c&&r.removeEvent(t,s,c)})}},{key:"onDocumentClick",value:function(t){var e=t.target.closest(".vscomp-wrapper");e!==this.$wrapper&&e!==this.$dropboxWrapper&&this.isOpened()&&this.closeDropbox()}},{key:"onKeyDown",value:function(t){var e=t.which||t.keyCode,i=N[e];if(document.activeElement!==this.$searchInput||t.shiftKey||e!==9||this.multiple||(t.preventDefault(),this.focusFirstVisibleOption()),document.activeElement!==this.$toggleAllButton||e!==13){if(e===27||t.key==="Escape"){var o=this.showAsPopup?this.$wrapper:this.$dropboxWrapper;if((document.activeElement===o||o.contains(document.activeElement))&&!this.keepAlwaysOpen)return void this.closeDropbox()}i&&this[i](t)}else this.toggleAllOptions()}},{key:"onEnterPress",value:function(t){t.preventDefault(),this.isOpened()?this.selectFocusedOption():this.$ele.disabled===!1&&this.openDropbox()}},{key:"onDownArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption({direction:"next"}):this.openDropbox()}},{key:"onUpArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption({direction:"previous"}):this.openDropbox()}},{key:"onBackspaceOrDeletePress",value:function(t){t.target===this.$wrapper&&(t.preventDefault(),this.selectedValues.length>0&&this.reset())}},{key:"onToggleButtonPress",value:function(t){if(t.stopPropagation(),t.type!=="keydown"||t.code==="Enter"||t.code==="Space"){var e=t.target;e.closest(".vscomp-value-tag-clear-button")?this.removeValue(e.closest(".vscomp-value-tag")):e.closest(".toggle-button-child")||this.toggleDropbox()}}},{key:"onClearButtonClick",value:function(t){t.type==="click"?this.reset():t.type!=="keydown"||t.code!=="Enter"&&t.code!=="Space"||(t.stopPropagation(),this.reset())}},{key:"onOptionsScroll",value:function(){this.setVisibleOptions()}},{key:"onOptionsClick",value:function(t){var e=t.target.closest(".vscomp-option");e&&!r.hasClass(e,"disabled")&&(r.hasClass(e,"group-title")?this.onGroupTitleClick(e):this.selectOption(e,{event:t}))}},{key:"onGroupTitleClick",value:function(t){if(t&&this.multiple&&!this.disableOptionGroupCheckbox){var e=!r.hasClass(t,"selected");this.toggleGroupTitleCheckbox(t,e),this.toggleGroupOptions(t,e)}}},{key:"onDropboxContainerClick",value:function(t){t.target.closest(".vscomp-dropbox")||this.closeDropbox()}},{key:"onDropboxCloseButtonClick",value:function(){this.closeDropbox()}},{key:"onOptionsMouseOver",value:function(t){var e=t.target.closest(".vscomp-option");e&&this.isOpened()&&(r.hasClass(e,"disabled")||r.hasClass(e,"group-title")?this.removeOptionFocus():this.focusOption({$option:e}))}},{key:"onOptionsTouchMove",value:function(){this.removeOptionFocus()}},{key:"onSearch",value:function(t){t.stopPropagation(),this.setSearchValue(t.target.value,!0)}},{key:"onSearchClear",value:function(t){t.stopPropagation(),t.code!=="Enter"&&t.code!=="Space"&&t.type!=="click"||(this.setSearchValue(""),this.focusSearchInput())}},{key:"onToggleAllOptions",value:function(){this.toggleAllOptions()}},{key:"onDropboxContainerTopOrBottomFocus",value:function(){this.closeDropbox()}},{key:"onResize",value:function(){this.setOptionsContainerHeight(!0)}},{key:"addMutationObserver",value:function(){var t=this;if(this.hasDropboxWrapper){var e=this.$ele;this.mutationObserver=new MutationObserver(function(i){var o=!1,s=!1;i.forEach(function(u){o||(o=g(u.addedNodes).some(function(c){return!(c!==e&&!c.contains(e))})),s||(s=g(u.removedNodes).some(function(c){return!(c!==e&&!c.contains(e))}))}),s&&!o&&t.destroy()}),this.mutationObserver.observe(document.querySelector("body"),{childList:!0,subtree:!0})}}},{key:"removeMutationObserver",value:function(){this.mutationObserver.disconnect()}},{key:"beforeValueSet",value:function(t){this.toggleAllOptionsClass(!t&&void 0)}},{key:"beforeSelectNewValue",value:function(){var t=this,e=this.getNewOption(),i=e.index;this.newValues.push(e.value),this.setOptionProp(i,"isCurrentNew",!1),this.setOptionProp(i,"isNew",!0),setTimeout(function(){t.setSearchValue(""),t.focusSearchInput()},0)}},{key:"afterRenderWrapper",value:function(){r.addClass(this.$ele,"vscomp-ele"),this.renderSearch(),this.setEleStyles(),this.setDropboxStyles(),this.setOptionsHeight(),this.setVisibleOptions(),this.setOptionsContainerHeight(),this.addEvents(),this.setEleProps(),this.keepAlwaysOpen||this.showAsPopup||this.initDropboxPopover(),this.initialSelectedValue?this.setValueMethod(this.initialSelectedValue,this.silentInitialValueSet):this.autoSelectFirstOption&&this.visibleOptions.length&&this.setValueMethod(this.visibleOptions[0].value,this.silentInitialValueSet),this.showOptionsOnlyOnSearch&&this.setSearchValue("",!1,!0),this.initialDisabled&&this.disable(),this.autofocus&&this.focus()}},{key:"afterRenderOptions",value:function(){var t=this.getVisibleOptions(),e=!this.options.length&&!this.hasServerSearch,i=!e&&!t.length;if((!this.allowNewOption||this.hasServerSearch||this.showOptionsOnlyOnSearch)&&(r.toggleClass(this.$allWrappers,"has-no-search-results",i),i?(r.setAttr(this.$noSearchResults,"tabindex","0"),r.setAttr(this.$noSearchResults,"aria-hidden","false")):(r.setAttr(this.$noSearchResults,"tabindex","-1"),r.setAttr(this.$noSearchResults,"aria-hidden","true"))),r.toggleClass(this.$allWrappers,"has-no-options",e),e?(r.setAttr(this.$noOptions,"tabindex","0"),r.setAttr(this.$noOptions,"aria-hidden","false")):(r.setAttr(this.$noOptions,"tabindex","-1"),r.setAttr(this.$noOptions,"aria-hidden","true")),this.setOptionAttr(),this.setOptionsPosition(),this.setOptionsTooltip(),document.activeElement!==this.$searchInput){var o=r.getElementsBySelector(".focused",this.$dropboxContainer)[0];o!==void 0&&o.focus()}}},{key:"afterSetOptionsContainerHeight",value:function(t){t&&this.showAsPopup&&this.setVisibleOptions()}},{key:"afterSetSearchValue",value:function(){var t=this;this.hasServerSearch?(clearInterval(this.serverSearchTimeout),this.serverSearchTimeout=setTimeout(function(){t.serverSearch()},this.searchDelay)):this.setVisibleOptionsCount(),this.selectAllOnlyVisible&&this.toggleAllOptionsClass(),this.focusOption({focusFirst:!0})}},{key:"afterSetVisibleOptionsCount",value:function(){this.scrollToTop(),this.setOptionsHeight(),this.setVisibleOptions(),this.updatePosition()}},{key:"afterValueSet",value:function(){this.scrollToTop(),this.setSearchValue(""),this.renderOptions()}},{key:"afterSetOptions",value:function(t){t&&this.setSelectedProp(),this.setOptionsHeight(),this.setVisibleOptions(),this.showOptionsOnlyOnSearch&&this.setSearchValue("",!1,!0),t||this.reset()}},{key:"setProps",value:function(t){var e=this.setDefaultProps(t);this.setPropsFromElementAttr(e);var i=V.convertToBoolean;this.$ele=e.ele,this.dropboxWrapper=e.dropboxWrapper,this.valueKey=e.valueKey,this.labelKey=e.labelKey,this.descriptionKey=e.descriptionKey,this.aliasKey=e.aliasKey,this.optionHeightText=e.optionHeight,this.optionHeight=parseFloat(this.optionHeightText),this.multiple=i(e.multiple),this.hasSearch=i(e.search),this.searchByStartsWith=i(e.searchByStartsWith),this.searchGroup=i(e.searchGroup),this.hideClearButton=i(e.hideClearButton),this.autoSelectFirstOption=i(e.autoSelectFirstOption),this.hasOptionDescription=i(e.hasOptionDescription),this.silentInitialValueSet=i(e.silentInitialValueSet),this.allowNewOption=i(e.allowNewOption),this.markSearchResults=i(e.markSearchResults),this.showSelectedOptionsFirst=i(e.showSelectedOptionsFirst),this.disableSelectAll=i(e.disableSelectAll),this.keepAlwaysOpen=i(e.keepAlwaysOpen),this.showDropboxAsPopup=i(e.showDropboxAsPopup),this.hideValueTooltipOnSelectAll=i(e.hideValueTooltipOnSelectAll),this.showOptionsOnlyOnSearch=i(e.showOptionsOnlyOnSearch),this.selectAllOnlyVisible=i(e.selectAllOnlyVisible),this.alwaysShowSelectedOptionsCount=i(e.alwaysShowSelectedOptionsCount),this.alwaysShowSelectedOptionsLabel=i(e.alwaysShowSelectedOptionsLabel),this.disableAllOptionsSelectedText=i(e.disableAllOptionsSelectedText),this.showValueAsTags=i(e.showValueAsTags),this.disableOptionGroupCheckbox=i(e.disableOptionGroupCheckbox),this.enableSecureText=i(e.enableSecureText),this.setValueAsArray=i(e.setValueAsArray),this.disableValidation=i(e.disableValidation),this.initialDisabled=i(e.disabled),this.required=i(e.required),this.autofocus=i(e.autofocus),this.useGroupValue=i(e.useGroupValue),this.focusSelectedOptionOnOpen=i(e.focusSelectedOptionOnOpen),this.noOptionsText=e.noOptionsText,this.noSearchResultsText=e.noSearchResultsText,this.selectAllText=e.selectAllText,this.searchNormalize=e.searchNormalize,this.searchPlaceholderText=e.searchPlaceholderText,this.searchFormLabel=e.searchFormLabel,this.optionsSelectedText=e.optionsSelectedText,this.optionSelectedText=e.optionSelectedText,this.allOptionsSelectedText=e.allOptionsSelectedText,this.clearButtonText=e.clearButtonText,this.moreText=e.moreText,this.placeholder=e.placeholder,this.position=e.position,this.textDirection=e.textDirection,this.dropboxWidth=e.dropboxWidth,this.tooltipFontSize=e.tooltipFontSize,this.tooltipAlignment=e.tooltipAlignment,this.tooltipMaxWidth=e.tooltipMaxWidth,this.updatePositionThrottle=e.updatePositionThrottle,this.noOfDisplayValues=parseInt(e.noOfDisplayValues),this.zIndex=parseInt(e.zIndex),this.maxValues=parseInt(e.maxValues),this.minValues=parseInt(e.minValues),this.name=this.secureText(e.name),this.additionalClasses=e.additionalClasses,this.additionalDropboxClasses=e.additionalDropboxClasses,this.additionalDropboxContainerClasses=e.additionalDropboxContainerClasses,this.additionalToggleButtonClasses=e.additionalToggleButtonClasses,this.popupDropboxBreakpoint=e.popupDropboxBreakpoint,this.popupPosition=e.popupPosition,this.onServerSearch=e.onServerSearch,this.labelRenderer=e.labelRenderer,this.selectedLabelRenderer=e.selectedLabelRenderer,this.initialSelectedValue=e.selectedValue===0?"0":e.selectedValue,this.emptyValue=e.emptyValue,this.ariaLabelText=e.ariaLabelText,this.ariaLabelledby=e.ariaLabelledby,this.ariaLabelClearButtonText=e.ariaLabelClearButtonText,this.ariaLabelTagClearButtonText=e.ariaLabelTagClearButtonText,this.ariaLabelSearchClearButtonText=e.ariaLabelSearchClearButtonText,this.maxWidth=e.maxWidth,this.searchDelay=e.searchDelay,this.showDuration=parseInt(e.showDuration),this.hideDuration=parseInt(e.hideDuration),this.selectedValues=[],this.selectedOptions=[],this.newValues=[],this.events={},this.tooltipEnterDelay=200,this.searchValue="",this.searchValueOriginal="",this.isAllSelected=!1,(e.search===void 0&&this.multiple||this.allowNewOption||this.showOptionsOnlyOnSearch)&&(this.hasSearch=!0),this.hasServerSearch=typeof this.onServerSearch=="function",(this.maxValues||this.hasServerSearch||this.showOptionsOnlyOnSearch)&&(this.disableSelectAll=!0,this.disableOptionGroupCheckbox=!0),this.keepAlwaysOpen&&(this.dropboxWrapper="self"),this.showAsPopup=this.showDropboxAsPopup&&!this.keepAlwaysOpen&&window.innerWidth<=parseFloat(this.popupDropboxBreakpoint),this.hasSearchContainer=this.hasSearch||this.multiple&&!this.disableSelectAll,this.optionsCount=this.getOptionsCount(e.optionsCount),this.halfOptionsCount=Math.ceil(this.optionsCount/2),this.optionsHeight=this.getOptionsHeight(),this.uniqueId=this.getUniqueId()}},{key:"setDefaultProps",value:function(t){var e={dropboxWrapper:"self",valueKey:"value",labelKey:"label",descriptionKey:"description",aliasKey:"alias",ariaLabelText:"Options list",ariaLabelClearButtonText:"Clear button",ariaLabelTagClearButtonText:"Remove option",ariaLabelSearchClearButtonText:"Clear search input",optionsCount:5,noOfDisplayValues:50,optionHeight:"40px",noOptionsText:"No options found",noSearchResultsText:"No results found",selectAllText:"Select All",searchNormalize:!1,searchPlaceholderText:"Search...",searchFormLabel:"Search",clearButtonText:"Clear",moreText:"more...",optionsSelectedText:"options selected",optionSelectedText:"option selected",allOptionsSelectedText:"All",placeholder:"Select",position:"bottom left",zIndex:t.keepAlwaysOpen?1:2,tooltipFontSize:"14px",tooltipAlignment:"center",tooltipMaxWidth:"300px",updatePositionThrottle:100,name:"",additionalClasses:"",additionalDropboxClasses:"",additionalDropboxContainerClasses:"",additionalToggleButtonClasses:"",maxValues:0,showDropboxAsPopup:!0,popupDropboxBreakpoint:"576px",popupPosition:"center",hideValueTooltipOnSelectAll:!0,emptyValue:"",searchDelay:300,focusSelectedOptionOnOpen:!0,showDuration:300,hideDuration:200};return t.hasOptionDescription&&(e.optionsCount=4,e.optionHeight="50px"),Object.assign(e,t)}},{key:"setPropsFromElementAttr",value:function(t){var e=t.ele;Object.keys(B).forEach(function(i){var o=e.getAttribute(i);Y.indexOf(i)===-1||o!==""&&o!=="true"||(o=!0),o&&(t[B[i]]=o)})}},{key:"setEleProps",value:function(){var t=this.$ele;t.virtualSelect=this,t.value=this.multiple?[]:"",t.name=this.name,t.disabled=!1,t.required=this.required,t.autofocus=this.autofocus,t.multiple=this.multiple,t.form=t.closest("form"),t.reset=a.reset,t.setValue=a.setValueMethod,t.setOptions=a.setOptionsMethod,t.setDisabledOptions=a.setDisabledOptionsMethod,t.setEnabledOptions=a.setEnabledOptionsMethod,t.toggleSelectAll=a.toggleSelectAll,t.isAllSelected=a.isAllSelected,t.addOption=a.addOptionMethod,t.getNewValue=a.getNewValueMethod,t.getDisplayValue=a.getDisplayValueMethod,t.getSelectedOptions=a.getSelectedOptionsMethod,t.getDisabledOptions=a.getDisabledOptionsMethod,t.open=a.openMethod,t.close=a.closeMethod,t.focus=a.focusMethod,t.enable=a.enableMethod,t.disable=a.disableMethod,t.destroy=a.destroyMethod,t.validate=a.validateMethod,t.toggleRequired=a.toggleRequiredMethod,this.hasDropboxWrapper&&(this.$dropboxWrapper.virtualSelect=this)}},{key:"setValueMethod",value:function(t,e){var i={},o={},s=[],u=this.multiple,c=t;if(c){if(Array.isArray(c)||(c=[c]),u){var x=this.maxValues;x&&c.length>x&&c.splice(x)}else c.length>1&&(c=[c[0]]);c=c.map(function(b){return b||b===0?b.toString():""}),this.useGroupValue&&(c=this.setGroupOptionsValue(c)),c.forEach(function(b,$){i[b]=!0,o[b]=$}),this.allowNewOption&&c&&this.setNewOptionsFromValue(c)}if(this.options.forEach(function(b){i[b.value]!==!0||b.isDisabled||b.isGroupTitle?b.isSelected=!1:(b.isSelected=!0,s.push(b.value))}),u)this.hasOptionGroup&&this.setGroupsSelectedProp(),s.sort(function(b,$){return o[b]-o[$]});else{var k=m(s,1);s=k[0]}this.beforeValueSet(),this.setValue(s,{disableEvent:e}),this.afterValueSet()}},{key:"setGroupOptionsValue",value:function(t){var e=[],i={},o={};return t.forEach(function(s){o[s]=!0}),this.options.forEach(function(s){var u=s.value,c=o[u]===!0;s.isGroupTitle?c&&(i[s.index]=!0):(c||i[s.groupIndex])&&e.push(u)}),e}},{key:"setGroupsSelectedProp",value:function(){var t=this.isAllGroupOptionsSelected.bind(this);this.options.forEach(function(e){e.isGroupTitle&&(e.isSelected=t(e.index))})}},{key:"setOptionsMethod",value:function(t,e){this.setOptions(t),this.afterSetOptions(e)}},{key:"setDisabledOptionsMethod",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.setDisabledOptions(t,!0),e||(this.setValueMethod(null),this.toggleAllOptionsClass()),this.setVisibleOptions()}},{key:"setDisabledOptions",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=[];if(t)if(t===!0)e&&this.options.forEach(function(s){return s.isDisabled=!0,i.push(s.value),s});else{i=t.map(function(s){return s.toString()});var o={};i.forEach(function(s){o[s]=!0}),e&&this.options.forEach(function(s){return s.isDisabled=o[s.value]===!0,s})}else e&&this.options.forEach(function(s){return s.isDisabled=!1,s});this.disabledOptions=i}},{key:"setEnabledOptionsMethod",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.setEnabledOptions(t),e||(this.setValueMethod(null),this.toggleAllOptionsClass()),this.setVisibleOptions()}},{key:"setEnabledOptions",value:function(t){if(t!==void 0){var e=[];if(t===!0)this.options.forEach(function(o){return o.isDisabled=!1,o});else{var i={};t.forEach(function(o){i[o]=!0}),this.options.forEach(function(o){var s=i[o.value]!==!0;return o.isDisabled=s,s&&e.push(o.value),o})}this.disabledOptions=e}}},{key:"setOptions",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=[],o=this.disabledOptions.length,s=this.valueKey,u=this.labelKey,c=this.descriptionKey,x=this.aliasKey,k=this.hasOptionDescription,b=V.getString,$=V.convertToBoolean,A=this.secureText.bind(this),K=this.getAlias.bind(this),R=0,_=!1,M={},W=!1;this.disabledOptions.forEach(function(q){M[q]=!0});var Z=function(q){O(q)!=="object"&&(q=G(G({},s,q),u,q));var it=A(b(q[s])),ot=A(b(q[u])),st=q.options,nt=!!st,tt={index:R,value:it,label:ot,labelNormalized:t.searchNormalize?V.normalizeString(ot).toLowerCase():ot.toLowerCase(),alias:K(q[x]),isVisible:$(q.isVisible,!0),isNew:q.isNew||!1,isGroupTitle:nt,classNames:q.classNames};if(W||it!==""||(W=!0),o&&(tt.isDisabled=M[it]===!0),q.isGroupOption&&(tt.isGroupOption=!0,tt.groupIndex=q.groupIndex),k&&(tt.description=A(b(q[c]))),q.customData&&(tt.customData=q.customData),i.push(tt),R+=1,nt){var rt=tt.index;_=!0,st.forEach(function(at){at.isGroupOption=!0,at.groupIndex=rt,Z(at)})}};Array.isArray(e)&&e.forEach(Z);var z=i.length,J=this.$ele;J.options=i,J.length=z,this.options=i,this.visibleOptionsCount=z,this.lastOptionIndex=z-1,this.newValues=[],this.hasOptionGroup=_,this.hasEmptyValueOption=W,this.setSortedOptions()}},{key:"setServerOptions",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.setOptionsMethod(e,!0);var i=this.selectedOptions,o=this.options,s=!1;if(i.length){var u={};s=!0,o.forEach(function(c){u[c.value]=!0}),i.forEach(function(c){u[c.value]!==!0&&(c.isVisible=!1,o.push(c))}),this.setOptionsMethod(o,!0)}this.allowNewOption&&this.searchValue&&(o.some(function(c){return c.label.toLowerCase()===t.searchValue})||(s=!0,this.setNewOption())),s?(this.setVisibleOptionsCount(),this.multiple&&this.toggleAllOptionsClass(),this.setValueText()):this.updatePosition(),this.setVisibleOptionsCount(),r.removeClass(this.$allWrappers,"server-searching")}},{key:"setSelectedOptions",value:function(){this.selectedOptions=this.options.filter(function(t){return t.isSelected})}},{key:"setSortedOptions",value:function(){var t=g(this.options);this.showSelectedOptionsFirst&&this.selectedValues.length&&(t=this.hasOptionGroup?this.sortOptionsGroup(t):this.sortOptions(t)),this.sortedOptions=t}},{key:"setVisibleOptions",value:function(){var t=g(this.sortedOptions),e=2*this.optionsCount,i=this.getVisibleStartIndex(),o=this.getNewOption(),s=i+e-1,u=0;o&&(o.visibleIndex=u,u+=1),t=t.filter(function(c){var x=!1;return c.isVisible&&!c.isCurrentNew&&(x=u>=i&&u<=s,c.visibleIndex=u,u+=1),x}),o&&(t=[o].concat(g(t))),this.visibleOptions=t,this.visibleOptionsCount=t.length,this.renderOptions()}},{key:"setOptionsPosition",value:function(t){var e=parseInt((t||this.getVisibleStartIndex())*this.optionHeight);this.$options.style.transform="translate3d(0, ".concat(e,"px, 0)"),r.setData(this.$options,"top",e)}},{key:"setOptionsTooltip",value:function(){var t=this,e=this.getVisibleOptions(),i=this.hasOptionDescription;e.forEach(function(o){var s=t.$dropboxContainer.querySelector('.vscomp-option[data-index="'.concat(o.index,'"]'));r.setData(s.querySelector(".vscomp-option-text"),"tooltip",o.label),i&&r.setData(s.querySelector(".vscomp-option-description"),"tooltip",o.description)})}},{key:"setValue",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.disableEvent,o=i!==void 0&&i,s=e.disableValidation,u=s!==void 0&&s;this.hasEmptyValueOption&&t===""||t?Array.isArray(t)?this.selectedValues=g(t):this.selectedValues=[t]:this.selectedValues=[];var c=this.getValue();this.$ele.value=c,this.$hiddenInput.value=this.getInputValue(c),this.isMaxValuesSelected=!!(this.maxValues&&this.maxValues<=this.selectedValues.length),this.toggleAllOptionsClass(),this.setValueText();var x=V.isNotEmpty(this.selectedValues);r.toggleClass(this.$allWrappers,"has-value",x),r.toggleClass(this.$allWrappers,"max-value-selected",this.isMaxValuesSelected),r.setAttr(this.$clearButton,"tabindex",x?"0":"-1"),r.setAria(this.$clearButton,"hidden",x===!1),u||this.validate(),o||r.dispatchEvent(this.$ele,"change",!0)}},{key:"setValueText",value:function(){var t=this,e=this.multiple,i=this.selectedValues,o=this.noOfDisplayValues,s=this.showValueAsTags,u=this.$valueText,c=this.selectedLabelRenderer,x=[],k=[],b=i.length,$=0,A=this.isAllSelected&&!this.hasServerSearch&&!this.disableAllOptionsSelectedText&&!s;if(A&&this.hideValueTooltipOnSelectAll)u.innerHTML="".concat(this.allOptionsSelectedText," (").concat(b,")");else{this.getSelectedOptions({fullDetails:!0,keepSelectionOrder:!0}).some(function(z){if(z.isCurrentNew)return!1;if($>=o)return!0;var J=z.label;if(typeof c=="function"&&(J=c(z)),x.push(J),$+=1,s){var q=V.willTextOverflow(u.parentElement,J)?t.getTooltipAttrText(J,!1,!0):"",it="";if(t.ariaLabelTagClearButtonText){var ot=J.replace(/<[^>]+>/gi,"").trim();it='aria-label="'.concat(ot,", ").concat(t.ariaLabelTagClearButtonText,'"')}var st='<span class="vscomp-value-tag" data-index="'.concat(z.index,'" ').concat(q,`>
                  <span class="vscomp-value-tag-content">`).concat(J,`</span>
                  <span 
                    class="vscomp-value-tag-clear-button" 
                    role="button" 
                    `).concat(it,`
                    tabindex="0">
                      <i class="vscomp-clear-icon"></i>
                  </span>
                </span>`);k.push(st)}else k.push(J);return!1});var K=b-o;K>0&&k.push('<span class="vscomp-value-tag more-value-count">+ '.concat(K," ").concat(this.moreText,"</span>"));var R=x.join(", ");if(R==="")u.innerHTML=this.placeholder;else if(u.innerHTML=R,e){var _=this.maxValues;if(this.alwaysShowSelectedOptionsCount||r.hasEllipsis(u)||_||s){var M='<span class="vscomp-selected-value-count">'.concat(b,"</span>");if(_&&(M+=' / <span class="vscomp-max-value-count">'.concat(_,"</span>")),A)u.innerHTML="".concat(this.allOptionsSelectedText," (").concat(b,")");else if(s)u.innerHTML=k.join(""),this.$valueTags=u.querySelectorAll(".vscomp-value-tag"),this.setValueTagAttr();else if(!this.alwaysShowSelectedOptionsLabel){var W=b===1?this.optionSelectedText:this.optionsSelectedText;u.innerHTML="".concat(M," ").concat(W)}}else k=[]}}var Z="";b===0?Z=this.placeholder:s||(Z=k.join(", ")),s||r.setData(u,"tooltip",Z),e&&(s?this.updatePosition():r.setData(u,"tooltipEllipsisOnly",b===0))}},{key:"setSearchValue",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(t!==this.searchValueOriginal||i){e||(this.$searchInput.value=t);var o=t.replace(/\\/g,"").toLowerCase().trim();this.searchValue=o,this.searchValueOriginal=t,r.toggleClass(this.$allWrappers,"has-search-value",t),r.setAttr(this.$searchClear,"tabindex",t!==""?"0":"-1"),r.setAria(this.$searchClear,"hidden",t===""),this.afterSetSearchValue()}}},{key:"setVisibleOptionsCount",value:function(){var t,e=0,i=!1,o=this.searchGroup,s=this.showOptionsOnlyOnSearch,u=this.searchByStartsWith,c=this.searchValue;c=this.searchNormalize?V.normalizeString(c):c;var x=this.isOptionVisible.bind(this);this.hasOptionGroup&&(t=this.getVisibleOptionGroupsMapping(c)),this.options.forEach(function(k){var b;k.isCurrentNew||(s&&!c?(k.isVisible=!1,b={isVisible:!1,hasExactOption:!1}):b=x({data:k,searchValue:c,hasExactOption:i,visibleOptionGroupsMapping:t,searchGroup:o,searchByStartsWith:u}),b.isVisible&&(e+=1),i||(i=b.hasExactOption))}),this.allowNewOption&&(c&&!i?(this.setNewOption(),e+=1):this.removeNewOption()),this.visibleOptionsCount=e,this.afterSetVisibleOptionsCount()}},{key:"setOptionProp",value:function(t,e,i){this.options[t]&&(this.options[t][e]=i)}},{key:"setOptionsHeight",value:function(){this.$optionsList.style.height="".concat(this.optionHeight*this.visibleOptionsCount,"px")}},{key:"setOptionsContainerHeight",value:function(t){var e;t?this.showAsPopup&&(this.optionsCount=this.getOptionsCount(),this.halfOptionsCount=Math.ceil(this.optionsCount/2),e=this.getOptionsHeight(),this.optionsHeight=e):(e=this.optionsHeight,this.keepAlwaysOpen&&(r.setStyle(this.$noOptions,"height",e),r.setStyle(this.$noSearchResults,"height",e))),r.setStyle(this.$optionsContainer,"max-height",e),this.afterSetOptionsContainerHeight(t)}},{key:"setNewOption",value:function(t){var e=t||this.searchValueOriginal.trim();if(e){var i=this.getNewOption();if(i){var o=i.index;this.setOptionProp(o,"value",this.secureText(e)),this.setOptionProp(o,"label",this.secureText(e))}else{var s={value:e,label:e};t?(s.isNew=!0,this.newValues.push(e)):s.isCurrentNew=!0,this.addOption(s)}}}},{key:"setSelectedProp",value:function(){var t={};this.selectedValues.forEach(function(e){t[e]=!0}),this.options.forEach(function(e){t[e.value]===!0&&(e.isSelected=!0)})}},{key:"setNewOptionsFromValue",value:function(t){if(t){var e=this.setNewOption.bind(this),i={};this.options.forEach(function(o){i[o.value]=!0}),t.forEach(function(o){o&&i[o]!==!0&&e(o)})}}},{key:"setDropboxWrapperWidth",value:function(){if(!this.showAsPopup){var t=this.dropboxWidth||"".concat(this.$wrapper.offsetWidth,"px");r.setStyle(this.$dropboxContainer,"max-width",t)}}},{key:"setEleStyles",value:function(){var t=this.maxWidth,e={};t&&(e["max-width"]=t),r.setStyles(this.$ele,e)}},{key:"setDropboxStyles",value:function(){var t=this.dropboxWidth,e={},i={"z-index":this.zIndex};t&&(this.showAsPopup?e["max-width"]=t:i.width=t),r.setStyles(this.$dropboxContainer,i),r.setStyles(this.$dropbox,e)}},{key:"setOptionAttr",value:function(){var t=this.$visibleOptions,e=this.options,i="".concat(this.optionHeight,"px"),o=r.setStyle,s=r.getData,u=r.setData;t&&t.length&&t.forEach(function(c){var x=e[s(c,"index")];o(c,"height",i),u(c,"value",x.value)})}},{key:"setValueTagAttr",value:function(){var t=this.$valueTags;if(t&&t.length){var e=r.getData,i=r.setData,o=this.options;t.forEach(function(s){var u=e(s,"index");if(u!==void 0){var c=o[u];i(s,"value",c.value)}})}}},{key:"setScrollTop",value:function(){var t=this.selectedValues;if(!this.showSelectedOptionsFirst&&this.focusSelectedOptionOnOpen&&t.length!==0){var e,i={};t.forEach(function(o){i[o]=!0}),this.options.some(function(o){return!!i[o.value]&&(e=o.visibleIndex,!0)}),e&&(this.$optionsContainer.scrollTop=this.optionHeight*e)}}},{key:"getVisibleOptions",value:function(){return this.visibleOptions||[]}},{key:"getValue",value:function(){return this.multiple?this.useGroupValue?this.getGroupValue():this.selectedValues:this.selectedValues[0]||""}},{key:"getGroupValue",value:function(){var t=[],e={};return this.options.forEach(function(i){if(i.isSelected){var o=i.value;i.isGroupTitle?o&&(e[i.index]=!0,t.push(o)):e[i.groupIndex]!==!0&&t.push(o)}}),t}},{key:"getInputValue",value:function(t){var e=t;return e&&e.length?this.setValueAsArray&&this.multiple&&(e=JSON.stringify(e)):e=this.emptyValue,e}},{key:"getFirstVisibleOptionIndex",value:function(){return Math.ceil(this.$optionsContainer.scrollTop/this.optionHeight)}},{key:"getVisibleStartIndex",value:function(){var t=this.getFirstVisibleOptionIndex()-this.halfOptionsCount;return t<0&&(t=0),t}},{key:"getTooltipAttrText",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],o={"data-tooltip":(V.containsHTML(t)?V.replaceDoubleQuotesWithHTML(t):t)||"","data-tooltip-enter-delay":this.tooltipEnterDelay,"data-tooltip-z-index":this.zIndex,"data-tooltip-font-size":this.tooltipFontSize,"data-tooltip-alignment":this.tooltipAlignment,"data-tooltip-max-width":this.tooltipMaxWidth,"data-tooltip-ellipsis-only":e,"data-tooltip-allow-html":i};return r.getAttributesText(o)}},{key:"getOptionObj",value:function(t){if(t){var e=V.getString,i=this.secureText.bind(this);return{index:t.index,value:i(e(t.value)),label:i(e(t.label)),description:i(e(t.description)),alias:this.getAlias(t.alias),isCurrentNew:t.isCurrentNew||!1,isNew:t.isNew||!1,isVisible:!0}}}},{key:"getNewOption",value:function(){var t=this.options[this.lastOptionIndex];if(t&&t.isCurrentNew)return t}},{key:"getOptionIndex",value:function(t){var e;return this.options.some(function(i){return i.value===t&&(e=i.index,!0)}),e}},{key:"getNewValue",value:function(){var t={};this.newValues.forEach(function(i){t[i]=!0});var e=this.selectedValues.filter(function(i){return t[i]===!0});return this.multiple?e:e[0]}},{key:"getAlias",value:function(t){var e=t;return e&&(e=(e=Array.isArray(e)?e.join(","):e.toString().trim()).toLowerCase()),e||""}},{key:"getDisplayValue",value:function(){var t=[];return this.options.forEach(function(e){e.isSelected&&t.push(e.label)}),this.multiple?t:t[0]||""}},{key:"getSelectedOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.fullDetails,i=e!==void 0&&e,o=t.keepSelectionOrder,s=o!==void 0&&o,u=this.valueKey,c=this.labelKey,x=this.selectedValues,k=[];if(this.options.forEach(function($){if($.isSelected&&!$.isGroupTitle)if(i)k.push($);else{var A=G(G({},u,$.value),c,$.label);$.isNew&&(A.isNew=!0),$.customData&&(A.customData=$.customData),k.push(A)}}),s){var b={};x.forEach(function($,A){b[$]=A}),k.sort(function($,A){return b[$.value]-b[A.value]})}return this.multiple||i?k:k[0]}},{key:"getDisabledOptions",value:function(){var t=this.valueKey,e=this.labelKey,i=this.disabledOptions,o={},s=[];return i.forEach(function(u){o[u]=!0}),this.options.forEach(function(u){var c=u.value,x=u.label;o[c]&&s.push(G(G({},t,c),e,x))}),s}},{key:"getVisibleOptionGroupsMapping",value:function(t){var e=this.options,i={},o=this.isOptionVisible.bind(this);return(e=this.structureOptionGroup(e)).forEach(function(s){i[s.index]=s.options.some(function(u){return o({data:u,searchValue:t}).isVisible})}),i}},{key:"getOptionsCount",value:function(t){var e;if(this.showAsPopup){var i=80*window.innerHeight/100-48;this.hasSearchContainer&&(i-=40),e=Math.floor(i/this.optionHeight)}else e=parseInt(t);return e}},{key:"getOptionsHeight",value:function(){return"".concat(this.optionsCount*this.optionHeight,"px")}},{key:"getSibling",value:function(t,e){var i=e==="next"?"nextElementSibling":"previousElementSibling",o=t;do o&&(o=o[i]);while(r.hasClass(o,"disabled")||r.hasClass(o,"group-title"));return o}},{key:"getUniqueId",value:function(){var t=V.getRandomInt(1e4);return document.querySelector("#vscomp-ele-wrapper-".concat(t))?this.getUniqueId():t}},{key:"initDropboxPopover",value:function(){var t={ele:this.$ele,target:this.$dropboxContainer,position:this.position,zIndex:this.zIndex,margin:4,transitionDistance:30,hideArrowIcon:!0,disableManualAction:!0,disableUpdatePosition:!this.hasDropboxWrapper,updatePositionThrottle:this.updatePositionThrottle,showDuration:this.showDuration,hideDuration:this.hideDuration,afterShow:this.afterShowPopper.bind(this),afterHide:this.afterHidePopper.bind(this)};this.dropboxPopover=new PopoverComponent(t)}},{key:"openDropbox",value:function(t){this.isSilentOpen=t,r.setAttr(this.$dropboxWrapper,"tabindex","0"),r.setAria(this.$dropboxWrapper,"hidden",!1),r.setAttr(this.$dropboxContainerTop,"tabindex","0"),r.setAria(this.$dropboxContainerTop,"hidden",!1),r.setAttr(this.$dropboxContainerBottom,"tabindex","0"),r.setAria(this.$dropboxContainerBottom,"hidden",!1),t?r.setStyle(this.$dropboxContainer,"display","inline-flex"):(r.dispatchEvent(this.$ele,"beforeOpen"),r.setAria(this.$wrapper,"expanded",!0)),this.setDropboxWrapperWidth(),r.removeClass(this.$allWrappers,"closed"),r.changeTabIndex(this.$allWrappers,0),this.dropboxPopover&&!t?this.dropboxPopover.show():this.afterShowPopper()}},{key:"afterShowPopper",value:function(){var t=this.isSilentOpen;this.isSilentOpen=!1,t||(this.moveSelectedOptionsFirst(),this.setScrollTop(),r.addClass(this.$allWrappers,"focused"),this.showAsPopup?(r.addClass(this.$body,"vscomp-popup-active"),this.isPopupActive=!0):this.focusElementOnOpen(),r.dispatchEvent(this.$ele,"afterOpen"))}},{key:"closeDropbox",value:function(t){this.isSilentClose=t,this.isOpened()!==!1&&(this.keepAlwaysOpen?this.removeOptionFocus():(t?r.setStyle(this.$dropboxContainer,"display",""):(r.dispatchEvent(this.$ele,"beforeClose"),r.setAria(this.$wrapper,"expanded",!1),r.setAria(this.$wrapper,"activedescendant","")),this.dropboxPopover&&!t?(this.dropboxPopover.hide(),r.setAttr(this.$dropboxWrapper,"tabindex","-1"),r.setAria(this.$dropboxWrapper,"hidden",!0),r.setAttr(this.$dropboxContainerTop,"tabindex","-1"),r.setAria(this.$dropboxContainerTop,"hidden",!0),r.setAttr(this.$dropboxContainerBottom,"tabindex","-1"),r.setAria(this.$dropboxContainerBottom,"hidden",!0)):this.afterHidePopper()))}},{key:"afterHidePopper",value:function(){var t=this.isSilentClose;this.isSilentClose=!1,r.removeClass(this.$allWrappers,"focused"),this.removeOptionFocus(),!t&&this.isPopupActive&&(r.removeClass(this.$body,"vscomp-popup-active"),this.isPopupActive=!1),r.addClass(this.$allWrappers,"closed"),t||r.dispatchEvent(this.$ele,"afterClose"),this.$wrapper.focus(),r.setAttr(this.$dropboxWrapper,"tabindex","-1"),r.setAria(this.$dropboxWrapper,"hidden",!0),r.setAttr(this.$dropboxContainerTop,"tabindex","-1"),r.setAria(this.$dropboxContainerTop,"hidden",!0),r.setAttr(this.$dropboxContainerBottom,"tabindex","-1"),r.setAria(this.$dropboxContainerBottom,"hidden",!0)}},{key:"moveSelectedOptionsFirst",value:function(){this.$optionsContainer.scrollTop&&this.selectedValues.length||this.setVisibleOptions(),this.showSelectedOptionsFirst&&(this.setSortedOptions(),this.scrollToTop())}},{key:"toggleDropbox",value:function(){this.isOpened()?this.closeDropbox():this.openDropbox()}},{key:"updatePosition",value:function(){this.dropboxPopover&&this.isOpened()&&this.$ele.updatePosition()}},{key:"isOpened",value:function(){return!r.hasClass(this.$wrapper,"closed")}},{key:"focusSearchInput",value:function(){var t=this.$searchInput;t&&t.focus()}},{key:"focusElementOnOpen",value:function(){var t=this.$searchInput,e=!this.options.length&&!this.hasServerSearch;if(t)e&&!this.allowNewOption?(r.setAttr(t,"disabled",""),this.$noOptions.focus()):(t.removeAttribute("disabled"),t.focus());else{var i=this.$dropbox.querySelector('[tabindex="0"]');r.getData(i,"index")!==void 0?this.focusOption({direction:"next"}):i?i.focus():this.focusFirstVisibleOption()}}},{key:"focusFirstVisibleOption",value:function(){var t=this.$optionsContainer.querySelector("[data-index='".concat(this.getFirstVisibleOptionIndex(),"']"));t?(r.hasClass(t,"group-title")&&(t=this.getSibling(t,"next")),r.setAttr(t,"tabindex","0"),this.$optionsContainer.scrollTop=this.optionHeight*this.getFirstVisibleOptionIndex(),this.focusOption({focusFirst:!0}),t.focus()):(t=this.$dropbox.querySelector('[tabindex="0"]'))&&t.focus()}},{key:"focusOption",value:function(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.direction,o=e.$option,s=e.focusFirst,u=this.$dropboxContainer.querySelector(".vscomp-option.focused");if(o)t=o;else if(!u||s){var c=this.getFirstVisibleOptionIndex();t=this.$dropboxContainer.querySelector('.vscomp-option[data-visible-index="'.concat(c,'"]')),(r.hasClass(t,"disabled")||r.hasClass(t,"group-title"))&&(t=this.getSibling(t,"next"))}else t=this.getSibling(u,i);t&&t!==u&&(u&&this.toggleOptionFocusedState(u,!1),this.toggleOptionFocusedState(t,!0),this.toggleFocusedProp(r.getData(t,"index"),!0),this.moveFocusedOptionToView(t))}},{key:"moveFocusedOptionToView",value:function(t){var e=t||this.$dropboxContainer.querySelector(".vscomp-option.focused");if(e){var i,o=this.$optionsContainer.getBoundingClientRect(),s=e.getBoundingClientRect(),u=o.top,c=o.bottom,x=o.height,k=s.top,b=s.bottom,$=s.height,A=e.offsetTop,K=r.getData(this.$options,"top","number");u>k?i=A+K:c<b&&(i=A-x+$+K),i!==void 0&&(this.$optionsContainer.scrollTop=i)}}},{key:"removeOptionFocus",value:function(){var t=this.$dropboxContainer.querySelector(".vscomp-option.focused");t&&(this.toggleOptionFocusedState(t,!1),this.toggleFocusedProp(null))}},{key:"selectOption",value:function(t){var e=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).event;if(t){var i=!r.hasClass(t,"selected");if(i){if(this.multiple&&this.isMaxValuesSelected)return}else if(!this.multiple)return void this.closeDropbox();var o=this.selectedValues,s=r.getData(t,"value"),u=r.getData(t,"index","number"),c=r.hasClass(t,"current-new"),x=!1,k=this.lastSelectedOptionIndex;if(this.lastSelectedOptionIndex=null,this.toggleSelectedProp(u,i),i){if(this.multiple)o.push(s),this.toggleAllOptionsClass(),this.toggleGroupOptionsParent(t),e&&e.shiftKey&&(x=!0);else{o.length&&this.toggleSelectedProp(this.getOptionIndex(o[0]),!1),o=[s];var b=this.$dropboxContainer.querySelector(".vscomp-option.selected");b&&this.toggleOptionSelectedState(b,!1),this.closeDropbox(),c||this.setSearchValue("")}this.lastSelectedOptionIndex=u,this.toggleOptionSelectedState(t)}else this.multiple&&(this.toggleOptionSelectedState(t),V.removeItemFromArray(o,s),this.toggleAllOptionsClass(!1),this.toggleGroupOptionsParent(t,!1));c&&this.beforeSelectNewValue(),this.setValue(o),x&&this.selectRangeOptions(k,u)}}},{key:"selectFocusedOption",value:function(){this.selectOption(this.$dropboxContainer.querySelector(".vscomp-option.focused"))}},{key:"selectRangeOptions",value:function(t,e){var i=this;if(typeof t=="number"&&!this.maxValues){var o,s,u=this.selectedValues,c=this.hasOptionGroup,x={};if(t<e?(o=t,s=e):(o=e,s=t),this.options.forEach(function(b){if(!b.isDisabled&&!b.isGroupTitle&&b.isVisible&&!b.isSelected){var $=b.index;if($>o&&$<s){if(c){var A=b.groupIndex;typeof A=="number"&&(x[A]=!0)}b.isSelected=!0,u.push(b.value)}}}),this.toggleAllOptionsClass(),this.setValue(u),(x=Object.keys(x)).length){var k=this.toggleGroupTitleProp.bind(this);x.forEach(function(b){k(parseInt(b))})}setTimeout(function(){i.renderOptions()},0)}}},{key:"toggleAllOptions",value:function(t){if(this.multiple&&!this.disableSelectAll){var e=typeof isSelected=="boolean"?t:!r.hasClass(this.$toggleAllCheckbox,"checked"),i=[],o=this.selectAllOnlyVisible;this.options.forEach(function(s){var u=s;if(!u.isDisabled&&!u.isCurrentNew){var c=u.isVisible,x=u.isSelected;!e&&(!o||c||!x)||e&&o&&!c&&!x?u.isSelected=!1:(u.isSelected=!0,u.isGroupTitle||i.push(u.value))}}),this.toggleAllOptionsClass(e),this.setValue(i),this.renderOptions()}}},{key:"toggleAllOptionsClass",value:function(t){if(this.multiple){var e=!1;typeof t=="boolean"||(t=this.isAllOptionsSelected()),!t&&this.selectAllOnlyVisible&&this.searchValue!==""&&(this.visibleOptionsCount>0||this.searchValue==="")&&(e=this.isAllOptionsSelected(!0)),r.toggleClass(this.$toggleAllCheckbox,"checked",t||e),this.isAllSelected=t}}},{key:"isAllOptionsSelected",value:function(t){var e=!1;return this.options.length&&this.selectedValues.length&&(e=!this.options.some(function(i){return!i.isSelected&&!i.isDisabled&&!i.isGroupTitle&&(!t||i.isVisible)})),e}},{key:"isAllGroupOptionsSelected",value:function(t){var e=!1;return this.options.length&&(e=!this.options.some(function(i){return!i.isSelected&&!i.isDisabled&&!i.isGroupTitle&&i.groupIndex===t})),e}},{key:"toggleGroupOptionsParent",value:function(t,e){if(this.hasOptionGroup&&!this.disableOptionGroupCheckbox&&t){var i=r.getData(t,"groupIndex");i!==void 0&&(i=parseInt(i));var o=this.$options.querySelector('.vscomp-option[data-index="'.concat(i,'"]')),s=typeof e=="boolean"?e:this.isAllGroupOptionsSelected(i);this.toggleGroupTitleCheckbox(o,s),this.toggleGroupTitleProp(i,s)}}},{key:"toggleGroupTitleProp",value:function(t,e){var i=typeof e=="boolean"?e:this.isAllGroupOptionsSelected(t);this.toggleSelectedProp(t,i)}},{key:"toggleGroupOptions",value:function(t,e){var i=this;if(this.hasOptionGroup&&!this.disableOptionGroupCheckbox&&t){var o=r.getData(t,"index","number"),s=this.selectedValues,u=this.selectAllOnlyVisible,c={},x=V.removeItemFromArray;s.forEach(function(k){c[k]=!0}),this.options.forEach(function(k){if(!k.isDisabled&&k.groupIndex===o){var b=k.value;!e||u&&!k.isVisible?(k.isSelected=!1,c[b]&&x(s,b)):(k.isSelected=!0,c[b]||s.push(b))}}),this.toggleAllOptionsClass(!!e&&null),this.setValue(s),setTimeout(function(){i.renderOptions()},0)}}},{key:"toggleGroupTitleCheckbox",value:function(t,e){if(t){var i=r.getData(t,"index","number");this.toggleSelectedProp(i,e),this.toggleOptionSelectedState(t,e)}}},{key:"toggleFocusedProp",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.focusedOptionIndex&&this.setOptionProp(this.focusedOptionIndex,"isFocused",!1),this.setOptionProp(t,"isFocused",e),this.focusedOptionIndex=t}},{key:"toggleSelectedProp",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.setOptionProp(t,"isSelected",e)}},{key:"scrollToTop",value:function(){this.$optionsContainer.scrollTop>0&&(this.$optionsContainer.scrollTop=0)}},{key:"reset",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.forEach(function(i){i.isSelected=!1}),this.beforeValueSet(!0),this.setValue(null,{disableEvent:e,disableValidation:t}),this.afterValueSet(),t&&r.removeClass(this.$allWrappers,"has-error"),r.dispatchEvent(this.$ele,"reset")}},{key:"addOption",value:function(t,e){if(t){this.lastOptionIndex+=1;var i=this.getOptionObj(j(j({},t),{},{index:this.lastOptionIndex}));this.options.push(i),this.sortedOptions.push(i),e&&(this.visibleOptionsCount+=1,this.afterSetOptions())}}},{key:"removeOption",value:function(t){(t||t===0)&&(this.options.splice(t,1),this.lastOptionIndex-=1)}},{key:"removeNewOption",value:function(){var t=this.getNewOption();t&&this.removeOption(t.index)}},{key:"sortOptions",value:function(t){return t.sort(function(e,i){var o=e.isSelected||e.isAnySelected,s=i.isSelected||i.isAnySelected;return o||s?o&&(!s||e.index<i.index)?-1:1:0})}},{key:"sortOptionsGroup",value:function(t){var e=this.sortOptions.bind(this),i=this.structureOptionGroup(t);return i.forEach(function(o){var s=o.options;o.isAnySelected=s.some(function(u){return u.isSelected}),o.isAnySelected&&e(s)}),e(i),this.destructureOptionGroup(i)}},{key:"isOptionVisible",value:function(t){var e=t.data,i=t.searchValue,o=t.hasExactOption,s=t.visibleOptionGroupsMapping,u=t.searchGroup,c=t.searchByStartsWith,x=e.value.toLowerCase(),k=this.searchNormalize?e.labelNormalized:e.label.toLowerCase(),b=e.description,$=e.alias,A=c?k.startsWith(i):k.includes(i);return!e.isGroupTitle||u&&A||(A=s[e.index]),c||!$||A||(A=$.includes(i)),c||!b||A||(A=b.toLowerCase().includes(i)),e.isVisible=A,o||(o=k===i||x===i),{isVisible:A,hasExactOption:o}}},{key:"structureOptionGroup",value:function(t){var e=[],i={};return t.forEach(function(o){if(o.isGroupTitle){var s=[];o.options=s,i[o.index]=s,e.push(o)}}),t.forEach(function(o){o.isGroupOption&&i[o.groupIndex].push(o)}),e}},{key:"destructureOptionGroup",value:function(t){var e=[];return t.forEach(function(i){e.push(i),e=e.concat(i.options)}),e}},{key:"serverSearch",value:function(){r.removeClass(this.$allWrappers,"has-no-search-results"),r.addClass(this.$allWrappers,"server-searching"),this.setSelectedOptions(),this.onServerSearch(this.searchValue,this)}},{key:"removeValue",value:function(t){var e=this.selectedValues,i=r.getData(t,"value");V.removeItemFromArray(e,i),this.setValueMethod(e)}},{key:"focus",value:function(){this.$wrapper.focus()}},{key:"enable",value:function(){this.$ele.disabled=!1,this.$ele.removeAttribute("disabled"),this.$hiddenInput.removeAttribute("disabled"),r.setAria(this.$wrapper,"disabled",!1),r.changeTabIndex(this.$wrapper,0)}},{key:"disable",value:function(){this.$ele.disabled=!0,this.$ele.setAttribute("disabled",""),this.$hiddenInput.setAttribute("disabled",""),r.setAria(this.$wrapper,"disabled",!0),r.changeTabIndex(this.$wrapper,-1),this.$wrapper.blur()}},{key:"validate",value:function(){if(this.disableValidation)return!0;var t=!1,e=this.selectedValues,i=this.minValues;return this.required&&(V.isEmpty(e)||this.multiple&&i&&e.length<i)&&(t=!0),r.toggleClass(this.$allWrappers,"has-error",t),!t}},{key:"destroy",value:function(){var t=this.$ele;t.virtualSelect=void 0,t.value=void 0,t.innerHTML="",this.removeEvents(),this.hasDropboxWrapper&&this.$dropboxWrapper.remove(),this.dropboxPopover&&this.dropboxPopover.destroy(),r.removeClass(t,"vscomp-ele")}},{key:"createSecureTextElements",value:function(){this.$secureDiv=document.createElement("div"),this.$secureText=document.createTextNode(""),this.$secureDiv.appendChild(this.$secureText)}},{key:"secureText",value:function(t){return t&&this.enableSecureText?(this.$secureText.nodeValue=V.replaceDoubleQuotesWithHTML(t),this.$secureDiv.innerHTML):t}},{key:"toggleRequired",value:function(t){this.required=V.convertToBoolean(t),this.$ele.required=this.required}},{key:"toggleOptionSelectedState",value:function(t,e){var i=e;i===void 0&&(i=!r.hasClass(t,"selected")),r.toggleClass(t,"selected",i),r.setAria(t,"selected",i)}},{key:"toggleOptionFocusedState",value:function(t,e){t&&(r.toggleClass(t,"focused",e),r.setAttr(t,"tabindex",e?"0":"-1"),document.activeElement!==this.$searchInput&&t.focus(),e&&r.setAria(this.$wrapper,"activedescendant",t.id))}}],y=[{key:"init",value:function(t){var e=t.ele;if(e){var i=!1;if(typeof e=="string"){var o=(e=document.querySelectorAll(e)).length;if(o===0)return;o===1&&(i=!0)}e.length!==void 0&&e.forEach!==void 0||(e=[e],i=!0);var s=[];return e.forEach(function(u){u.virtualSelect?s.push(u.virtualSelect):(t.ele=u,u.tagName==="SELECT"&&a.setPropsFromSelect(t),s.push(new a(t)))}),i?s[0]:s}}},{key:"getAttrProps",value:function(){var t=r.convertPropToDataAttr,e={};return X.forEach(function(i){e[i]=i}),et.forEach(function(i){e[t(i)]=i}),e}},{key:"setPropsFromSelect",value:function(t){var e=t.ele,i=[],o=[],s=function(x){var k=[];return Array.from(x.children).forEach(function(b){var $=b.value,A={value:$};b.tagName==="OPTGROUP"?(A.label=b.getAttribute("label"),A.options=s(b)):A.label=b.innerHTML,k.push(A),b.disabled&&i.push($),b.selected&&o.push($)}),k},u=s(e),c=document.createElement("div");r.setAttrFromEle(e,c,Object.keys(B),Y),e.parentNode.insertBefore(c,e),e.remove(),t.ele=c,t.options=u,t.disabledOptions=i,t.selectedValue=o}},{key:"onFormReset",value:function(t){var e=t.target.closest("form");e&&e.querySelectorAll(".vscomp-ele-wrapper").forEach(function(i){i.parentElement.virtualSelect.reset(!0)})}},{key:"onFormSubmit",value:function(t){a.validate(t.target.closest("form"))||t.preventDefault()}},{key:"validate",value:function(t){if(!t)return!0;var e=!1;return t.querySelectorAll(".vscomp-ele-wrapper").forEach(function(i){var o=i.parentElement.virtualSelect.validate();e||o||(e=!0)}),!e}},{key:"reset",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.virtualSelect.reset(t,e)}},{key:"setValueMethod",value:function(){var t;(t=this.virtualSelect).setValueMethod.apply(t,arguments)}},{key:"setOptionsMethod",value:function(){var t;(t=this.virtualSelect).setOptionsMethod.apply(t,arguments)}},{key:"setDisabledOptionsMethod",value:function(){var t;(t=this.virtualSelect).setDisabledOptionsMethod.apply(t,arguments)}},{key:"setEnabledOptionsMethod",value:function(){var t;(t=this.virtualSelect).setEnabledOptionsMethod.apply(t,arguments)}},{key:"toggleSelectAll",value:function(t){this.virtualSelect.toggleAllOptions(t)}},{key:"isAllSelected",value:function(){return this.virtualSelect.isAllSelected}},{key:"addOptionMethod",value:function(t){this.virtualSelect.addOption(t,!0)}},{key:"getNewValueMethod",value:function(){return this.virtualSelect.getNewValue()}},{key:"getDisplayValueMethod",value:function(){return this.virtualSelect.getDisplayValue()}},{key:"getSelectedOptionsMethod",value:function(t){return this.virtualSelect.getSelectedOptions(t)}},{key:"getDisabledOptionsMethod",value:function(){return this.virtualSelect.getDisabledOptions()}},{key:"openMethod",value:function(){return this.virtualSelect.openDropbox()}},{key:"closeMethod",value:function(){return this.virtualSelect.closeDropbox()}},{key:"focusMethod",value:function(){return this.virtualSelect.focus()}},{key:"enableMethod",value:function(){return this.virtualSelect.enable()}},{key:"disableMethod",value:function(){return this.virtualSelect.disable()}},{key:"destroyMethod",value:function(){return this.virtualSelect.destroy()}},{key:"validateMethod",value:function(){return this.virtualSelect.validate()}},{key:"toggleRequiredMethod",value:function(t){return this.virtualSelect.toggleRequired(t)}},{key:"onResizeMethod",value:function(){document.querySelectorAll(".vscomp-ele-wrapper").forEach(function(t){t.parentElement.virtualSelect.onResize()})}}],h&&f(n.prototype,h),y&&f(n,y),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,h,y}();document.addEventListener("reset",F.onFormReset),document.addEventListener("submit",F.onFormSubmit),window.addEventListener("resize",F.onResizeMethod),B=F.getAttrProps(),window.VirtualSelect=F,typeof NodeList<"u"&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)})(),function(){function I(T){return function(P){if(Array.isArray(P))return L(P)}(T)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(T)||function(P,p){if(P){if(typeof P=="string")return L(P,p);var v=Object.prototype.toString.call(P).slice(8,-1);return v==="Object"&&P.constructor&&(v=P.constructor.name),v==="Map"||v==="Set"?Array.from(P):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?L(P,p):void 0}}(T)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(T,P){(P==null||P>T.length)&&(P=T.length);for(var p=0,v=new Array(P);p<P;p++)v[p]=T[p];return v}var S=function(){function T(){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,T)}var P;return P=[{key:"addClass",value:function(p,v){p&&(v=v.split(" "),T.getElements(p).forEach(function(w){var C;(C=w.classList).add.apply(C,I(v))}))}},{key:"removeClass",value:function(p,v){p&&(v=v.split(" "),T.getElements(p).forEach(function(w){var C;(C=w.classList).remove.apply(C,I(v))}))}},{key:"getElements",value:function(p){if(p)return p.forEach===void 0&&(p=[p]),p}},{key:"getMoreVisibleSides",value:function(p){if(!p)return{};var v=p.getBoundingClientRect(),w=window.innerWidth,C=window.innerHeight,Q=v.left,r=v.top;return{horizontal:Q>w-Q-v.width?"left":"right",vertical:r>C-r-v.height?"top":"bottom"}}},{key:"getAbsoluteCoords",value:function(p){if(p){var v=p.getBoundingClientRect(),w=window.pageXOffset,C=window.pageYOffset;return{width:v.width,height:v.height,top:v.top+C,right:v.right+w,bottom:v.bottom+C,left:v.left+w}}}},{key:"getCoords",value:function(p){return p?p.getBoundingClientRect():{}}},{key:"getData",value:function(p,v,w){if(p){var C=p?p.dataset[v]:"";return w==="number"?C=parseFloat(C)||0:C==="true"?C=!0:C==="false"&&(C=!1),C}}},{key:"setData",value:function(p,v,w){p&&(p.dataset[v]=w)}},{key:"setStyle",value:function(p,v,w){p&&(p.style[v]=w)}},{key:"show",value:function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";T.setStyle(p,"display",v)}},{key:"hide",value:function(p){T.setStyle(p,"display","none")}},{key:"getHideableParent",value:function(p){for(var v,w=p.parentElement;w;){var C=getComputedStyle(w).overflow;if(C.indexOf("scroll")!==-1||C.indexOf("auto")!==-1){v=w;break}w=w.parentElement}return v}}],P&&function(p,v){for(var w=0;w<v.length;w++){var C=v[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}(T,P),T}(),H=["top","bottom","left","right"].map(function(T){return"position-".concat(T)}),D={top:"rotate(180deg)",left:"rotate(90deg)",right:"rotate(-90deg)"},V=function(){function T(p){(function(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")})(this,T);try{this.setProps(p),this.init()}catch(v){console.warn("Couldn't initiate popper"),console.error(v)}}var P;return P=[{key:"init",value:function(){var p=this.$popperEle;p&&this.$triggerEle&&(S.setStyle(p,"zIndex",this.zIndex),this.setPosition())}},{key:"setProps",value:function(p){var v=(p=this.setDefaultProps(p)).position?p.position.toLowerCase():"auto";if(this.$popperEle=p.$popperEle,this.$triggerEle=p.$triggerEle,this.$arrowEle=p.$arrowEle,this.margin=parseFloat(p.margin),this.offset=parseFloat(p.offset),this.enterDelay=parseFloat(p.enterDelay),this.exitDelay=parseFloat(p.exitDelay),this.showDuration=parseFloat(p.showDuration),this.hideDuration=parseFloat(p.hideDuration),this.transitionDistance=parseFloat(p.transitionDistance),this.zIndex=parseFloat(p.zIndex),this.afterShowCallback=p.afterShow,this.afterHideCallback=p.afterHide,this.hasArrow=!!this.$arrowEle,v.indexOf(" ")!==-1){var w=v.split(" ");this.position=w[0],this.secondaryPosition=w[1]}else this.position=v}},{key:"setDefaultProps",value:function(p){return Object.assign({position:"auto",margin:8,offset:5,enterDelay:0,exitDelay:0,showDuration:300,hideDuration:200,transitionDistance:10,zIndex:1},p)}},{key:"setPosition",value:function(){S.show(this.$popperEle,"inline-flex");var p,v,w,C=window.innerWidth,Q=window.innerHeight,r=S.getAbsoluteCoords(this.$popperEle),U=S.getAbsoluteCoords(this.$triggerEle),j=r.width,G=r.height,O=r.top,m=r.right,g=r.bottom,d=r.left,l=U.width,f=U.height,E=U.top,B=U.right,N=U.bottom,Y=U.left,X=E-O,et=Y-d,F=et,a=X,n=this.position,h=this.secondaryPosition,y=l/2-j/2,t=f/2-G/2,e=this.margin,i=this.transitionDistance,o=window.scrollY-O,s=Q+o,u=window.scrollX-d,c=C+u,x=this.offset;x&&(o+=x,s-=x,u+=x,c-=x),n==="auto"&&(n=S.getMoreVisibleSides(this.$triggerEle).vertical);var k={top:{top:a-G-e,left:F+y},bottom:{top:a+f+e,left:F+y},right:{top:a+t,left:F+l+e},left:{top:a+t,left:F-j-e}},b=k[n];if(a=b.top,F=b.left,h&&(h==="top"?a=X:h==="bottom"?a=X+f-G:h==="left"?F=et:h==="right"&&(F=et+l-j)),F<u?n==="left"?w="right":F=u+d>B?B-d:u:F+j>c&&(n==="right"?w="left":F=c+d<Y?Y-m:c-j),a<o?n==="top"?w="bottom":a=o+O>N?N-O:o:a+G>s&&(n==="bottom"?w="top":a=s+O<E?E-g:s-G),w){var $=k[w];(n=w)==="top"||n==="bottom"?a=$.top:n!=="left"&&n!=="right"||(F=$.left)}n==="top"?(p=a+i,v=F):n==="right"?(p=a,v=F-i):n==="left"?(p=a,v=F+i):(p=a-i,v=F);var A="translate3d(".concat(parseInt(v),"px, ").concat(parseInt(p),"px, 0)");if(S.setStyle(this.$popperEle,"transform",A),S.setData(this.$popperEle,"fromLeft",v),S.setData(this.$popperEle,"fromTop",p),S.setData(this.$popperEle,"top",a),S.setData(this.$popperEle,"left",F),S.removeClass(this.$popperEle,H.join(" ")),S.addClass(this.$popperEle,"position-".concat(n)),this.hasArrow){var K=0,R=0,_=F+d,M=a+O,W=this.$arrowEle.offsetWidth/2,Z=D[n]||"";n==="top"||n==="bottom"?(K=l/2+Y-_)<W?K=W:K>j-W&&(K=j-W):n!=="left"&&n!=="right"||((R=f/2+E-M)<W?R=W:R>G-W&&(R=G-W)),S.setStyle(this.$arrowEle,"transform","translate3d(".concat(parseInt(K),"px, ").concat(parseInt(R),"px, 0) ").concat(Z))}S.hide(this.$popperEle)}},{key:"resetPosition",value:function(){S.setStyle(this.$popperEle,"transform","none"),this.setPosition()}},{key:"show",value:function(){var p=this,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=v.resetPosition,C=v.data;clearTimeout(this.exitDelayTimeout),clearTimeout(this.hideDurationTimeout),w&&this.resetPosition(),this.enterDelayTimeout=setTimeout(function(){var Q=S.getData(p.$popperEle,"left"),r=S.getData(p.$popperEle,"top"),U="translate3d(".concat(parseInt(Q),"px, ").concat(parseInt(r),"px, 0)"),j=p.showDuration;S.show(p.$popperEle,"inline-flex"),S.getCoords(p.$popperEle),S.setStyle(p.$popperEle,"transitionDuration",j+"ms"),S.setStyle(p.$popperEle,"transform",U),S.setStyle(p.$popperEle,"opacity",1),p.showDurationTimeout=setTimeout(function(){typeof p.afterShowCallback=="function"&&p.afterShowCallback(C)},j)},this.enterDelay)}},{key:"hide",value:function(){var p=this,v=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).data;clearTimeout(this.enterDelayTimeout),clearTimeout(this.showDurationTimeout),this.exitDelayTimeout=setTimeout(function(){if(p.$popperEle){var w=parseInt(S.getData(p.$popperEle,"fromLeft")),C=parseInt(S.getData(p.$popperEle,"fromTop")),Q="translate3d(".concat(w,"px, ").concat(C,"px, 0)"),r=p.hideDuration;S.setStyle(p.$popperEle,"transitionDuration",r+"ms"),S.setStyle(p.$popperEle,"transform",Q),S.setStyle(p.$popperEle,"opacity",0),p.hideDurationTimeout=setTimeout(function(){S.hide(p.$popperEle),typeof p.afterHideCallback=="function"&&p.afterHideCallback(v)},r)}},this.exitDelay)}},{key:"updatePosition",value:function(){S.setStyle(this.$popperEle,"transitionDuration","0ms"),this.resetPosition();var p=parseInt(S.getData(this.$popperEle,"left")),v=parseInt(S.getData(this.$popperEle,"top"));S.show(this.$popperEle,"inline-flex"),S.setStyle(this.$popperEle,"transform","translate3d(".concat(p,"px, ").concat(v,"px, 0)"))}}],P&&function(p,v){for(var w=0;w<v.length;w++){var C=v[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}(T.prototype,P),T}();window.PopperComponent=V}(),function(){function I(O){return(I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(O)}function L(O,m){for(var g=0;g<m.length;g++){var d=m[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(O,S(d.key),d)}}function S(O){var m=function(g,d){if(I(g)!="object"||!g)return g;var l=g[Symbol.toPrimitive];if(l!==void 0){var f=l.call(g,"string");if(I(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(O);return I(m)=="symbol"?m:m+""}var H=function(){return O=function g(){(function(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")})(this,g)},m=[{key:"convertToBoolean",value:function(g){return g===!0||g==="true"||g!==!1&&g!=="false"&&arguments.length>1&&arguments[1]!==void 0&&arguments[1]}},{key:"removeArrayEmpty",value:function(g){return Array.isArray(g)&&g.length?g.filter(function(d){return!!d}):[]}},{key:"throttle",value:function(g,d){var l,f=0;return function(){for(var E=arguments.length,B=new Array(E),N=0;N<E;N++)B[N]=arguments[N];var Y=new Date().getTime(),X=d-(Y-f);clearTimeout(l),X<=0?(f=Y,g.apply(void 0,B)):l=setTimeout(function(){g.apply(void 0,B)},X)}}}],m&&L(O,m),Object.defineProperty(O,"prototype",{writable:!1}),O;var O,m}();function D(O){return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},D(O)}function V(O){return function(m){if(Array.isArray(m))return T(m)}(O)||function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(O)||function(m,g){if(m){if(typeof m=="string")return T(m,g);var d=Object.prototype.toString.call(m).slice(8,-1);return d==="Object"&&m.constructor&&(d=m.constructor.name),d==="Map"||d==="Set"?Array.from(m):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?T(m,g):void 0}}(O)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function T(O,m){(m==null||m>O.length)&&(m=O.length);for(var g=0,d=new Array(m);g<m;g++)d[g]=O[g];return d}function P(O,m){for(var g=0;g<m.length;g++){var d=m[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(O,p(d.key),d)}}function p(O){var m=function(g,d){if(D(g)!="object"||!g)return g;var l=g[Symbol.toPrimitive];if(l!==void 0){var f=l.call(g,"string");if(D(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(O);return D(m)=="symbol"?m:m+""}var v=function(){function O(){(function(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")})(this,O)}return m=O,g=[{key:"addClass",value:function(d,l){d&&(l=l.split(" "),O.getElements(d).forEach(function(f){var E;(E=f.classList).add.apply(E,V(l))}))}},{key:"removeClass",value:function(d,l){d&&(l=l.split(" "),O.getElements(d).forEach(function(f){var E;(E=f.classList).remove.apply(E,V(l))}))}},{key:"hasClass",value:function(d,l){return!!d&&d.classList.contains(l)}},{key:"getElement",value:function(d){return d&&(typeof d=="string"?d=document.querySelector(d):d.length!==void 0&&(d=d[0])),d||null}},{key:"getElements",value:function(d){if(d)return d.forEach===void 0&&(d=[d]),d}},{key:"addEvent",value:function(d,l,f){O.addOrRemoveEvent(d,l,f,"add")}},{key:"removeEvent",value:function(d,l,f){O.addOrRemoveEvent(d,l,f,"remove")}},{key:"addOrRemoveEvent",value:function(d,l,f,E){d&&(l=H.removeArrayEmpty(l.split(" "))).forEach(function(B){(d=O.getElements(d)).forEach(function(N){E==="add"?N.addEventListener(B,f):N.removeEventListener(B,f)})})}},{key:"getScrollableParents",value:function(d){if(!d)return[];for(var l=[window],f=d.parentElement;f;){var E=getComputedStyle(f).overflow;E.indexOf("scroll")===-1&&E.indexOf("auto")===-1||l.push(f),f=f.parentElement}return l}},{key:"convertPropToDataAttr",value:function(d){return d?"data-popover-".concat(d).replace(/([A-Z])/g,"-$1").toLowerCase():""}}],g&&P(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m;var m,g}();function w(O){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},w(O)}function C(O,m){for(var g=0;g<m.length;g++){var d=m[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(O,Q(d.key),d)}}function Q(O){var m=function(g,d){if(w(g)!="object"||!g)return g;var l=g[Symbol.toPrimitive];if(l!==void 0){var f=l.call(g,"string");if(w(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(O);return w(m)=="symbol"?m:m+""}var r,U={27:"onEscPress"},j=["target","position","margin","offset","enterDelay","exitDelay","showDuration","hideDuration","transitionDistance","updatePositionThrottle","zIndex","hideOnOuterClick","showOnHover","hideArrowIcon","disableManualAction","disableUpdatePosition"],G=function(){function O(l){(function(f,E){if(!(f instanceof E))throw new TypeError("Cannot call a class as a function")})(this,O);try{this.setProps(l),this.init()}catch(f){console.warn("Couldn't initiate Popover component"),console.error(f)}}return m=O,d=[{key:"init",value:function(l){var f=l.ele;if(f){var E=!1;if(typeof f=="string"){if(!(f=document.querySelectorAll(f)))return;f.length===1&&(E=!0)}f.length===void 0&&(f=[f],E=!0);var B=[];return f.forEach(function(N){l.ele=N,O.destroy(N),B.push(new O(l))}),E?B[0]:B}}},{key:"destroy",value:function(l){if(l){var f=l.popComp;f&&f.destroy()}}},{key:"showMethod",value:function(){this.popComp.show()}},{key:"hideMethod",value:function(){this.popComp.hide()}},{key:"updatePositionMethod",value:function(){this.popComp.popper.updatePosition()}},{key:"getAttrProps",value:function(){var l=v.convertPropToDataAttr,f={};return j.forEach(function(E){f[l(E)]=E}),f}}],(g=[{key:"init",value:function(){this.$popover&&(this.setElementProps(),this.renderArrow(),this.initPopper(),this.addEvents())}},{key:"getEvents",value:function(){var l=[{$ele:document,event:"click",method:"onDocumentClick"},{$ele:document,event:"keydown",method:"onDocumentKeyDown"}];return this.disableManualAction||(l.push({$ele:this.$ele,event:"click",method:"onTriggerEleClick"}),this.showOnHover&&(l.push({$ele:this.$ele,event:"mouseenter",method:"onTriggerEleMouseEnter"}),l.push({$ele:this.$ele,event:"mouseleave",method:"onTriggerEleMouseLeave"}))),l}},{key:"addOrRemoveEvents",value:function(l){var f=this;this.getEvents().forEach(function(E){f.addOrRemoveEvent({action:l,$ele:E.$ele,events:E.event,method:E.method})})}},{key:"addEvents",value:function(){this.addOrRemoveEvents("add")}},{key:"removeEvents",value:function(){this.addOrRemoveEvents("remove"),this.removeScrollEventListeners(),this.removeResizeEventListeners()}},{key:"addOrRemoveEvent",value:function(l){var f=this,E=l.action,B=l.$ele,N=l.events,Y=l.method,X=l.throttle;B&&(N=H.removeArrayEmpty(N.split(" "))).forEach(function(et){var F="".concat(Y,"-").concat(et),a=f.events[F];a||(a=f[Y].bind(f),X&&(a=H.throttle(a,X)),f.events[F]=a),E==="add"?v.addEvent(B,et,a):v.removeEvent(B,et,a)})}},{key:"addScrollEventListeners",value:function(){this.$scrollableElems=v.getScrollableParents(this.$ele),this.addOrRemoveEvent({action:"add",$ele:this.$scrollableElems,events:"scroll",method:"onAnyParentScroll",throttle:this.updatePositionThrottle})}},{key:"removeScrollEventListeners",value:function(){this.$scrollableElems&&(this.addOrRemoveEvent({action:"remove",$ele:this.$scrollableElems,events:"scroll",method:"onAnyParentScroll"}),this.$scrollableElems=null)}},{key:"addResizeEventListeners",value:function(){this.addOrRemoveEvent({action:"add",$ele:window,events:"resize",method:"onResize",throttle:this.updatePositionThrottle})}},{key:"removeResizeEventListeners",value:function(){this.addOrRemoveEvent({action:"remove",$ele:window,events:"resize",method:"onResize"})}},{key:"onAnyParentScroll",value:function(){this.popper.updatePosition()}},{key:"onResize",value:function(){this.popper.updatePosition()}},{key:"onDocumentClick",value:function(l){var f=l.target,E=f.closest(".pop-comp-ele"),B=f.closest(".pop-comp-wrapper");this.hideOnOuterClick&&E!==this.$ele&&B!==this.$popover&&this.hide()}},{key:"onDocumentKeyDown",value:function(l){var f=l.which||l.keyCode,E=U[f];E&&this[E](l)}},{key:"onEscPress",value:function(){this.hideOnOuterClick&&this.hide()}},{key:"onTriggerEleClick",value:function(){this.toggle()}},{key:"onTriggerEleMouseEnter",value:function(){this.show()}},{key:"onTriggerEleMouseLeave",value:function(){this.hide()}},{key:"setProps",value:function(l){l=this.setDefaultProps(l),this.setPropsFromElementAttr(l);var f=H.convertToBoolean;this.$ele=l.ele,this.target=l.target,this.position=l.position,this.margin=parseFloat(l.margin),this.offset=parseFloat(l.offset),this.enterDelay=parseFloat(l.enterDelay),this.exitDelay=parseFloat(l.exitDelay),this.showDuration=parseFloat(l.showDuration),this.hideDuration=parseFloat(l.hideDuration),this.transitionDistance=parseFloat(l.transitionDistance),this.updatePositionThrottle=parseFloat(l.updatePositionThrottle),this.zIndex=parseFloat(l.zIndex),this.hideOnOuterClick=f(l.hideOnOuterClick),this.showOnHover=f(l.showOnHover),this.hideArrowIcon=f(l.hideArrowIcon),this.disableManualAction=f(l.disableManualAction),this.disableUpdatePosition=f(l.disableUpdatePosition),this.beforeShowCallback=l.beforeShow,this.afterShowCallback=l.afterShow,this.beforeHideCallback=l.beforeHide,this.afterHideCallback=l.afterHide,this.events={},this.$popover=v.getElement(this.target)}},{key:"setDefaultProps",value:function(l){return Object.assign({position:"auto",margin:8,offset:5,enterDelay:0,exitDelay:0,showDuration:300,hideDuration:200,transitionDistance:10,updatePositionThrottle:100,zIndex:1,hideOnOuterClick:!0,showOnHover:!1,hideArrowIcon:!1,disableManualAction:!1,disableUpdatePosition:!1},l)}},{key:"setPropsFromElementAttr",value:function(l){var f=l.ele;for(var E in r){var B=f.getAttribute(E);B&&(l[r[E]]=B)}}},{key:"setElementProps",value:function(){var l=this.$ele;l.popComp=this,l.show=O.showMethod,l.hide=O.hideMethod,l.updatePosition=O.updatePositionMethod,v.addClass(this.$ele,"pop-comp-ele"),v.addClass(this.$popover,"pop-comp-wrapper")}},{key:"getOtherTriggerPopComp",value:function(){var l,f=this.$popover.popComp;return f&&f.$ele!==this.$ele&&(l=f),l}},{key:"initPopper",value:function(){var l={$popperEle:this.$popover,$triggerEle:this.$ele,$arrowEle:this.$arrowEle,position:this.position,margin:this.margin,offset:this.offset,enterDelay:this.enterDelay,exitDelay:this.exitDelay,showDuration:this.showDuration,hideDuration:this.hideDuration,transitionDistance:this.transitionDistance,zIndex:this.zIndex,afterShow:this.afterShow.bind(this),afterHide:this.afterHide.bind(this)};this.popper=new PopperComponent(l)}},{key:"beforeShow",value:function(){typeof this.beforeShowCallback=="function"&&this.beforeShowCallback(this)}},{key:"beforeHide",value:function(){typeof this.beforeHideCallback=="function"&&this.beforeHideCallback(this)}},{key:"show",value:function(){this.isShown()||(this.isShownForOtherTrigger()?this.showAfterOtherHide():(v.addClass(this.$popover,"pop-comp-disable-events"),this.$popover.popComp=this,this.beforeShow(),this.popper.show({resetPosition:!0}),v.addClass(this.$ele,"pop-comp-active")))}},{key:"hide",value:function(){this.isShown()&&(this.beforeHide(),this.popper.hide(),this.removeScrollEventListeners(),this.removeResizeEventListeners())}},{key:"toggle",value:function(l){l===void 0&&(l=!this.isShown()),l?this.show():this.hide()}},{key:"isShown",value:function(){return v.hasClass(this.$ele,"pop-comp-active")}},{key:"isShownForOtherTrigger",value:function(){var l=this.getOtherTriggerPopComp();return!!l&&l.isShown()}},{key:"showAfterOtherHide",value:function(){var l=this,f=this.getOtherTriggerPopComp();if(f){var E=f.exitDelay+f.hideDuration+100;setTimeout(function(){l.show()},E)}}},{key:"afterShow",value:function(){var l=this;this.showOnHover?setTimeout(function(){v.removeClass(l.$popover,"pop-comp-disable-events")},2e3):v.removeClass(this.$popover,"pop-comp-disable-events"),this.disableUpdatePosition||(this.addScrollEventListeners(),this.addResizeEventListeners()),typeof this.afterShowCallback=="function"&&this.afterShowCallback(this)}},{key:"afterHide",value:function(){v.removeClass(this.$ele,"pop-comp-active"),typeof this.afterHideCallback=="function"&&this.afterHideCallback(this)}},{key:"renderArrow",value:function(){if(!this.hideArrowIcon){var l=this.$popover.querySelector(".pop-comp-arrow");l||(this.$popover.insertAdjacentHTML("afterbegin",'<i class="pop-comp-arrow"></i>'),l=this.$popover.querySelector(".pop-comp-arrow")),this.$arrowEle=l}}},{key:"destroy",value:function(){this.removeEvents()}}])&&C(m.prototype,g),d&&C(m,d),Object.defineProperty(m,"prototype",{writable:!1}),m;var m,g,d}();r=G.getAttrProps(),window.PopoverComponent=G}();VirtualSelect.init({ele:"#keywordsSelect",options:[{label:"Help",value:"Help"},{label:"Design",value:"Design"},{label:"Customize",value:"Customize"},{label:"Development",value:"Development"}],multiple:!0});VirtualSelect.init({ele:"#assignedToSelect",options:[{label:"Patrick Schulz",value:"1"},{label:"Margaret Mann",value:"2"},{label:"Joanne Murray",value:"3"},{label:"Cynthia Justice",value:"4"},{label:"John Jenson",value:"5"},{label:"Mark Welch",value:"6"},{label:"Virginia Dawson",value:"7"}],multiple:!0});document.addEventListener("DOMContentLoaded",function(){ht(),ft(),yt(),pt()});function ht(){const I=document.querySelectorAll("#helpCenterTabs .nav-link"),L={gettingStarted:[{id:"001",title:"How to get started with our platform?",content:"To get started, simply sign up for an account and follow the onboarding guide.",author:"System Admin",avatar:"assets/images/avatar/user-1.png",tags:["Getting Started","Guide","Setup"],status:"Closed"},{id:"002",title:"What are the system requirements?",content:"Our platform works with all modern browsers. We recommend Chrome, Firefox, or Edge for the best experience.",author:"Tech Support",avatar:"assets/images/avatar/user-2.png",tags:["Requirements","Setup","Technical"],status:"Active"},{id:"003",title:"How do I reset my password?",content:'You can reset your password by clicking on the "Forgot Password" link on the login page.',author:"Support Team",avatar:"assets/images/avatar/user-3.png",tags:["Account","Password","Security"],status:"Deleted"},{id:"004",title:"Can I use the platform on mobile devices?",content:"Yes, our platform is fully responsive and works on all mobile devices and tablets.",author:"Product Team",avatar:"assets/images/avatar/user-4.png",tags:["Mobile","Responsive","Devices"],status:"Active"},{id:"005",title:"How to contact customer support?",content:'You can contact our customer support team through the "Help" button or by emailing support@example.com.',author:"Customer Care",avatar:"assets/images/avatar/user-5.png",tags:["Support","Contact","Help"],status:"Closed"}],accountWithCard:[{id:"006",title:"How to add a payment method?",content:'To add a payment method, go to your account settings and select "Payment Methods".',author:"Billing Team",avatar:"assets/images/avatar/user-6.png",tags:["Payment","Billing","Account"],status:"Closed"},{id:"007",title:"Is my payment information secure?",content:"Yes, we use industry-standard encryption to protect your payment information.",author:"Security Team",avatar:"assets/images/avatar/user-7.png",tags:["Security","Payment","Protection"],status:"Active"},{id:"008",title:"How to update my card details?",content:'You can update your card details in the "Payment Methods" section of your account settings.',author:"Billing Support",avatar:"assets/images/avatar/user-8.png",tags:["Update","Payment","Card"],status:"Active"}],licensesPolicy:[{id:"009",title:"What types of licenses do you offer?",content:"We offer personal, business, and enterprise licenses with different features and pricing.",author:"License Manager",avatar:"assets/images/avatar/user-9.png",tags:["License","Types","Options"],status:"Deleted"},{id:"010",title:"Can I transfer my license to another user?",content:"Business and enterprise licenses allow for license transfers. Contact support for assistance.",author:"Admin Team",avatar:"assets/images/avatar/user-10.png",tags:["Transfer","License","Policy"],status:"Active"}],customizeTemplates:[{id:"011",title:"How to customize the default templates?",content:'You can customize templates by going to the "Templates" section and clicking "Customize".',author:"Design Team",avatar:"assets/images/avatar/user-11.png",tags:["Templates","Customize","Design"],status:"Deleted"},{id:"012",title:"Can I save my custom templates?",content:'Yes, you can save your custom templates for future use by clicking "Save Template".',author:"Product Manager",avatar:"assets/images/avatar/user-12.png",tags:["Save","Templates","Custom"],status:"Active"}],customizeLayouts:[{id:"013",title:"How to change the layout of my dashboard?",content:'You can change your dashboard layout in the "Layout" section of your account settings.',author:"UX Designer",avatar:"assets/images/avatar/user-13.png",tags:["Layout","Dashboard","Customize"],status:"Active"},{id:"014",title:"Are there preset layouts available?",content:'Yes, we offer several preset layouts that you can choose from in the "Layout" section.',author:"UI Team",avatar:"assets/images/avatar/user-14.png",tags:["Presets","Layout","Options"],status:"Deleted"}]};I.forEach(H=>{H.addEventListener("click",function(D){D.preventDefault(),I.forEach(T=>T.classList.remove("active")),this.classList.add("active");const V=this.id;ut(V,L[V]||[])})});const S=document.querySelector("#helpCenterTabs .nav-link.active").id;ut(S,L[S]||[])}function ut(I,L){const S=document.querySelector(".ticket-list-wrapper .d-flex.flex-column");S.innerHTML="",L.forEach(D=>{const V=`
            <div class="card mb-0 mt-3" data-status="${D.status}">
                <div class="card-body">
                    <div class="d-flex align-items-center gap-5 mb-4">
                        <h6 class="flex-grow-1 mb-0">
                            <a href="#!" class="text-reset ticket-btn" data-ticket-id="${D.id}">Ticket #2023-${D.id}</a>
                        </h6>
                        <div class="d-flex align-items-center gap-4">
                            <p class="fs-sm text-muted">${vt()}</p>
                            <div class="dropdown">
                                <a href="#!" class="link link-custom-primary" id="dropdownTicketId${D.id}" data-bs-toggle="dropdown" aria-expanded="false" aria-label="dropdown-button">
                                    <i class="ri-more-2-fill"></i>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownTicketId${D.id}">
                                    <li>
                                        <a href="#!" class="dropdown-item">Reply Task</a>
                                    </li>
                                    <li>
                                        <a href="#!" class="dropdown-item">More Details</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <h6 class="mb-1"><a href="#!" class="text-reset ticket-btn" data-ticket-id="${D.id}">${D.title}</a></h6>
                    <p class="text-muted line-clamp-2">${D.content}</p>
                    <div class="d-flex flex-wrap align-items-center gap-4 mt-5">
                        <div class="d-flex align-items-center gap-2 flex-grow-1">
                            <img src="${D.avatar}" loading="lazy" alt="user" class="rounded-circle size-8">
                            <h6 class="mb-0">${D.author}</h6>
                        </div>
                        <div class="flex-shrink-0">
                            ${D.tags.map(T=>`<a href="#!" class="px-1 link link-custom-primary">${T}</a>`).join("")}
                        </div>
                        <div class="flex-shrink-0">
                            <a href="#!" class="link link-custom-primary">
                                <i class="ri-chat-3-line align-middle size-5 me-1"></i> <span>${Math.floor(Math.random()*5)+1}</span>
                            </a>
                        </div>
                        <div class="flex-shrink-0 ms-2">
                            <span class="badge ${dt(D.status)}">${D.status}</span>
                        </div>
                    </div>
                </div>
            </div>
        `;S.innerHTML+=V}),pt(),window.categoryData=window.categoryData||{},window.categoryData[I]=L;const H=document.querySelector(".nav-underline .nav-link.active");H&&ct(H.id)}function dt(I){switch(I){case"Active":return"bg-success text-white";case"Closed":return"bg-secondary text-white";case"Deleted":return"bg-danger text-white";default:return"bg-info text-white"}}function vt(){const I=Math.floor(Math.random()*12)+1,L=Math.floor(Math.random()*60),S=Math.random()>.5?"AM":"PM";return`${I}:${L.toString().padStart(2,"0")} ${S}`}function ft(){const I=document.querySelectorAll(".nav-underline .nav-link");I.forEach(L=>{L.addEventListener("click",function(){I.forEach(H=>{H.classList.remove("active"),H.setAttribute("aria-selected","false")}),this.classList.add("active"),this.setAttribute("aria-selected","true");const S=this.id;ct(S)})})}function ct(I){const S={"allTickets-tab":"all","active-tab":"Active","closed-tab":"Closed","delete-tab":"Deleted"}[I];document.querySelectorAll(".ticket-list-wrapper .card").forEach(D=>{D.getAttribute("data-status"),D.querySelector("h6.mb-1 a").textContent;const V=D.querySelector(".ticket-btn").getAttribute("data-ticket-id");let T="";for(const P in window.categoryData){const p=window.categoryData[P].find(v=>v.id===V);if(p){T=p.status;break}}S==="all"||T===S?D.style.display="":D.style.display="none"}),mt()}function mt(){const I=document.querySelectorAll('.ticket-list-wrapper .card[style="display: ;"], .ticket-list-wrapper .card:not([style*="display: none"])'),L=document.querySelector(".ticket-count");L&&(L.textContent=`${I.length} tickets`)}function yt(){const I=document.getElementById("searchInput");I&&I.addEventListener("input",function(){const L=this.value.toLowerCase();bt(L)})}function bt(I){document.querySelectorAll(".ticket-list-wrapper .card").forEach(S=>{const H=S.querySelector("h6.mb-1 a").textContent.toLowerCase(),D=S.querySelector("p.text-muted").textContent.toLowerCase();H.includes(I)||D.includes(I)?S.style.display="block":S.style.display="none"})}function pt(){const I=document.querySelectorAll(".ticket-btn"),L=document.getElementById("ticketList"),S=document.getElementById("ticketContent"),H=document.querySelector(".close-btn");I.forEach(D=>{D.addEventListener("click",function(V){V.preventDefault(),this.getAttribute("data-ticket-id"),L.classList.add("d-none"),S.classList.remove("d-none")})}),H&&H.addEventListener("click",function(D){D.preventDefault(),S.classList.add("d-none"),L.classList.remove("d-none")})}
