import{c as k,i as R}from"../../admin.bundle-DI9_jvUJ.js";import{u as y}from"../../apexcharts.esm-BofaT7g3.js";import"../../main-d77jCppw.js";function x(n){const e=getComputedStyle(document.documentElement).getPropertyValue(n).trim();return/^\d{1,3},\s*\d{1,3},\s*\d{1,3}$/.test(e)?`rgb(${e})`:e}var h=[];const v=n=>{const e=JSON.parse(JSON.stringify(n)),t=a=>{for(const s in a)typeof a[s]=="string"&&a[s].startsWith("--dx-")?a[s]=x(a[s]):typeof a[s]=="object"&&a[s]!==null&&t(a[s])};return t(e),e};function f(n=""){n&&document.documentElement.setAttribute("data-colors",n),h.forEach(e=>{const t=JSON.parse(JSON.stringify(e[0].data)),a=v(structuredClone(t));e[0].chart&&e[0].chart.destroy();var s=new y(document.querySelector("#"+e[0].id),a);s.render(),e[0].chart=s})}document.querySelectorAll('input[name="data-colors"]').forEach(n=>{n.addEventListener("change",function(){u(this.value)})});document.querySelectorAll('input[name="data-bs-theme"]').forEach(n=>{n.addEventListener("change",function(){u(this.value)})});var g;(g=document.getElementById("darkModeButton"))==null||g.addEventListener("click",function(){u(this.value)});function u(n){setTimeout(()=>{f(n)},0)}var l={series:[{name:"Sent",data:[28,29,33,36,32,32,33]},{name:"Opened",data:[12,11,14,18,17,13,13]}],chart:{defaultLocale:"en",height:280,type:"area",toolbar:{show:!1}},stroke:{curve:"smooth"},grid:{xaxis:{lines:{show:!0}},padding:{right:0,top:-20}},fill:{type:"gradient",gradient:{shadeIntensity:1,inverseColors:!1,opacityFrom:.4,opacityTo:0,stops:[0,90,100]}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul"]},colors:["--dx-primary","--dx-dark"]};h.push([{id:"emailCampaignPerformanceChart",data:l}]);var l={series:[33,57],labels:["Open Rate","Click Rate"],chart:{height:176,type:"donut"},plotOptions:{pie:{startAngle:-90,endAngle:270}},dataLabels:{enabled:!1},fill:{type:"gradient"},legend:{position:"bottom"},responsive:[{breakpoint:480,options:{chart:{width:"100%",height:200},legend:{position:"bottom"}}}],colors:["--dx-primary","--dx-danger"]};h.push([{id:"clickRateChart",data:l}]);var l={series:[{name:"Total Revenue",data:[5,4,7,9,2,6,10,6,3,7,9,5]}],chart:{height:100,type:"bar",toolbar:{show:!1},sparkline:{enabled:!0}},colors:["--dx-white"]};h.push([{id:"totalRevenueBarChart",data:l}]);var l={series:[{name:"Sent",data:[{x:"Jan",y:43},{x:"Feb",y:58}]},{name:"Pending",data:[{x:"Jan",y:33},{x:"Feb",y:38}]},{name:"Cancel",data:[{x:"Jan",y:55},{x:"Feb",y:21}]}],chart:{height:315,type:"line"},stroke:{curve:"smooth"},plotOptions:{line:{isSlopeChart:!0}},legend:{show:!0,position:"bottom",horizontalAlign:"center"},xaxis:{axisBorder:{show:!1}},grid:{padding:{bottom:0,right:0}},colors:["--dx-primary","--dx-success","--dx-danger"]};h.push([{id:"mailStatisticChart",data:l}]);var l={series:[{name:"Total Spend",data:[10,41,35,51,49,62,69,91,148]},{name:"Sales",data:[62,69,91,54,10,41,35,51,49]}],chart:{defaultLocale:"en",height:120,type:"line",zoom:{enabled:!0},sparkline:{enabled:!0}},stroke:{curve:"straight"},xaxis:{title:{text:"Xaxis"},categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},tooltip:{x:{show:!0},y:{formatter:n=>(void 0).formatCurrency(n)}},legend:{show:!0,position:"bottom",horizontalAlign:"center",offsetY:8},stroke:{width:1},grid:{padding:{top:0,right:5,bottom:20}},colors:["--dx-primary","--dx-success"]};h.push([{id:"timeSpendingChart",data:l}]);f();const P=[{id:1,email:"Financial Services",publishDate:"03 May, 2024",sent:4,clickRate:"3.47%",deliveredRate:"7.89%",spanReportRate:"0.14%"},{id:2,email:"Healthcare Update",publishDate:"10 May, 2024",sent:5,clickRate:"4.12%",deliveredRate:"8.45%",spanReportRate:"0.20%"},{id:3,email:"Retail Newsletter",publishDate:"15 May, 2024",sent:6,clickRate:"2.98%",deliveredRate:"7.65%",spanReportRate:"0.10%"},{id:4,email:"Tech Insights",publishDate:"20 May, 2024",sent:7,clickRate:"5.21%",deliveredRate:"9.12%",spanReportRate:"0.30%"},{id:5,email:"Travel Deals",publishDate:"25 May, 2024",sent:3,clickRate:"6.34%",deliveredRate:"8.79%",spanReportRate:"0.25%"},{id:6,email:"Education Weekly",publishDate:"30 May, 2024",sent:8,clickRate:"3.89%",deliveredRate:"8.23%",spanReportRate:"0.18%"},{id:7,email:"Automotive Trends",publishDate:"04 June, 2024",sent:4,clickRate:"4.50%",deliveredRate:"7.95%",spanReportRate:"0.12%"},{id:8,email:"Fashion Bulletin",publishDate:"09 June, 2024",sent:5,clickRate:"5.78%",deliveredRate:"9.34%",spanReportRate:"0.15%"},{id:9,email:"Food & Beverage News",publishDate:"14 June, 2024",sent:6,clickRate:"4.65%",deliveredRate:"8.56%",spanReportRate:"0.22%"},{id:10,email:"Real Estate Market",publishDate:"19 June, 2024",sent:7,clickRate:"3.78%",deliveredRate:"7.92%",spanReportRate:"0.19%"},{id:11,email:"Entertainment Weekly",publishDate:"24 June, 2024",sent:9,clickRate:"6.12%",deliveredRate:"9.45%",spanReportRate:"0.28%"},{id:12,email:"Sports Updates",publishDate:"29 June, 2024",sent:5,clickRate:"5.34%",deliveredRate:"8.67%",spanReportRate:"0.17%"},{id:13,email:"Science Discoveries",publishDate:"04 July, 2024",sent:4,clickRate:"4.89%",deliveredRate:"8.12%",spanReportRate:"0.21%"},{id:14,email:"Art & Culture",publishDate:"09 July, 2024",sent:6,clickRate:"3.56%",deliveredRate:"7.78%",spanReportRate:"0.15%"},{id:15,email:"Environmental News",publishDate:"14 July, 2024",sent:5,clickRate:"4.23%",deliveredRate:"8.34%",spanReportRate:"0.23%"}];class E{constructor(e,t){this.tableId=e,this.tableElement=document.getElementById(e),this.tableBody=this.tableElement.querySelector("tbody"),this.searchInput=document.getElementById("searchInput"),this.exportBtn=document.getElementById("exportBtn"),this.checkboxAll=document.getElementById("checkboxDataAll"),this.resultInfo=document.getElementById("resultInfo"),this.paginationElement=document.getElementById("pagination"),this.data=t,this.filteredData=[...t],this.currentPage=1,this.itemsPerPage=8,this.totalPages=Math.ceil(this.data.length/this.itemsPerPage)}init(){this.renderTable(),this.renderPagination(),this.updateResultInfo(),this.searchInput.addEventListener("input",this.handleSearch.bind(this)),this.exportBtn.addEventListener("click",this.handleExport.bind(this)),this.checkboxAll.addEventListener("change",this.handleSelectAll.bind(this))}renderTable(){const e=this.tableBody.querySelector("tr");this.tableBody.innerHTML="",this.tableBody.appendChild(e);const t=(this.currentPage-1)*this.itemsPerPage,a=Math.min(t+this.itemsPerPage,this.filteredData.length);if(t>=a){const o=document.createElement("tr");o.innerHTML=`
                <td colspan="7" class="text-center py-4">
                    <div class="d-flex flex-column align-items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" class="mx-auto size-12" viewBox="0 0 48 48">
                            <linearGradient id="SVGID_1__h35ynqzIJzH4_gr1" x1="34.598" x2="15.982" y1="15.982" y2="34.598" gradientUnits="userSpaceOnUse">
                                <stop offset="0" stop-color="#60e8fe"></stop>
                                <stop offset=".033" stop-color="#6ae9fe"></stop>
                                <stop offset=".197" stop-color="#97f0fe"></stop>
                                <stop offset=".362" stop-color="#bdf5ff"></stop>
                                <stop offset=".525" stop-color="#dafaff"></stop>
                                <stop offset=".687" stop-color="#eefdff"></stop>
                                <stop offset=".846" stop-color="#fbfeff"></stop>
                                <stop offset="1" stop-color="#fff"></stop>
                            </linearGradient>
                            <path fill="url(#SVGID_1__h35ynqzIJzH4_gr1)" d="M40.036,33.826L31.68,25.6c0.847-1.739,1.335-3.684,1.335-5.748c0-7.27-5.894-13.164-13.164-13.164 S6.688,12.582,6.688,19.852c0,7.27,5.894,13.164,13.164,13.164c2.056,0,3.995-0.485,5.728-1.326l3.914,4.015l4.331,4.331 c1.715,1.715,4.496,1.715,6.211,0C41.751,38.321,41.751,35.541,40.036,33.826z"></path>
                            <path fill="none" stroke="#10cfe3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="3" d="M31.95,25.739l8.086,8.086c1.715,1.715,1.715,4.496,0,6.211l0,0c-1.715,1.715-4.496,1.715-6.211,0	l-4.331-4.331"></path>
                            <path fill="none" stroke="#10cfe3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="3" d="M7.525,24.511c-1.771-4.694-0.767-10.196,3.011-13.975c3.847-3.847,9.48-4.817,14.228-2.912"></path>
                            <path fill="none" stroke="#10cfe3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="3" d="M30.856,12.603c3.376,5.114,2.814,12.063-1.688,16.565c-4.858,4.858-12.565,5.129-17.741,0.814"></path>
                        </svg>
                        <p class="mt-2 text-center text-gray-500 dark:text-dark-500">No matching records found</p>
                        <p class="text-muted mb-0">We couldn't find any categories matching your search.</p>
                    </div>
                </td>
            `,this.tableBody.appendChild(o);return}for(let o=t;o<a;o++){const i=this.filteredData[o],r=document.createElement("tr");r.innerHTML=`
                <td>
                    <div class="form-check check-primary">
                        <input class="form-check-input item-checkbox" title="checkbox" type="checkbox" id="checkboxData${i.id}">
                        <label class="form-check-label d-none" for="checkboxData${i.id}">
                            Data ${i.id}
                        </label>
                    </div>
                </td>
                <td>${i.email}</td>
                <td>${i.publishDate}</td>
                <td>${i.sent}</td>
                <td>${i.clickRate}</td>
                <td>${i.deliveredRate}</td>
                <td>${i.spanReportRate}</td>
            `,this.tableBody.appendChild(r)}this.tableBody.querySelectorAll(".item-checkbox").forEach(o=>{o.addEventListener("change",this.handleCheckboxChange.bind(this))})}renderPagination(){this.totalPages=Math.ceil(this.filteredData.length/this.itemsPerPage),this.paginationElement.innerHTML="";const e=document.createElement("li");e.className=`page-item ${this.currentPage===1?"disabled":""}`,e.innerHTML='<a class="page-link" href="#"><i data-lucide="chevron-left" class="size-4"></i> Previous</a>',e.addEventListener("click",i=>{i.preventDefault(),this.currentPage>1&&this.goToPage(this.currentPage-1)}),this.paginationElement.appendChild(e);const t=5;let a=Math.max(1,this.currentPage-Math.floor(t/2)),s=Math.min(this.totalPages,a+t-1);s-a+1<t&&(a=Math.max(1,s-t+1));for(let i=a;i<=s;i++){const r=document.createElement("li");r.className=`page-item ${i===this.currentPage?"active":""}`,r.innerHTML=`<a class="page-link" href="#">${i}</a>`,r.addEventListener("click",c=>{c.preventDefault(),this.goToPage(i)}),this.paginationElement.appendChild(r)}const o=document.createElement("li");o.className=`page-item ${this.currentPage===this.totalPages?"disabled":""}`,o.innerHTML='<a class="page-link" href="#">Next <i data-lucide="chevron-right" class="size-4"></i></a>',o.addEventListener("click",i=>{i.preventDefault(),this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}),this.paginationElement.appendChild(o),k({icons:R})}updateResultInfo(){const e=(this.currentPage-1)*this.itemsPerPage+1,t=Math.min(e+this.itemsPerPage-1,this.filteredData.length);this.resultInfo.innerHTML=`Showing <b class="me-1">${e} - ${t}</b> of <b class="ms-1">${this.filteredData.length}</b> Results`}goToPage(e){e<1||e>this.totalPages||(this.currentPage=e,this.renderTable(),this.renderPagination(),this.updateResultInfo(),this.checkboxAll.checked=!1)}handleSearch(e){const t=e.target.value.toLowerCase();t===""?this.filteredData=[...this.data]:this.filteredData=this.data.filter(a=>a.email.toLowerCase().includes(t)||a.publishDate.toLowerCase().includes(t)||a.sent.toString().includes(t)||a.clickRate.toLowerCase().includes(t)||a.deliveredRate.toLowerCase().includes(t)||a.spanReportRate.toLowerCase().includes(t)),this.currentPage=1,this.renderTable(),this.renderPagination(),this.updateResultInfo()}handleExport(){const e=this.tableBody.querySelectorAll(".item-checkbox:checked");let t=[];e.length>0?e.forEach(d=>{const p=parseInt(d.id.replace("checkboxData","")),m=this.data.find(b=>b.id===p);m&&t.push(m)}):t=[...this.filteredData];const s=[["Email","Publish Date","Sent","Click Rate (%)","Delivered Rate","Span Report Rate"].join(",")];t.forEach(d=>{const p=[`"${d.email}"`,`"${d.publishDate}"`,d.sent,d.clickRate,d.deliveredRate,d.spanReportRate];s.push(p.join(","))});const o=s.join(`
`),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(i),c=document.createElement("a");c.setAttribute("href",r),c.setAttribute("download","email_performance.csv"),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)}handleSelectAll(e){const t=e.target.checked;this.tableBody.querySelectorAll(".item-checkbox").forEach(s=>{s.checked=t})}handleCheckboxChange(){const e=this.tableBody.querySelectorAll(".item-checkbox"),t=this.tableBody.querySelectorAll(".item-checkbox:checked").length;this.checkboxAll.checked=t===e.length}}document.addEventListener("DOMContentLoaded",function(){new E("emailTable",P).init()});
